import{P as Jv,M as Qv,cY as ru,ec as Lo,ed as Bo,ee as Kv,ef as Zv,eg as Yv,eh as Xv,ei as tg,ej as eg,ek as rg,el as es,em as ng,en as Or,eo as ig,ep as Ar,eq as sg,er as nu,es as Qi,et as Ie,eu as ag,ev as Fo,V as og}from"./index-f6fefe02.js";var rs={exports:{}};(function(P,s){var i=typeof self<"u"?self:Jv,h=function(){function b(){this.fetch=!1,this.DOMException=i.DOMException}return b.prototype=i,new b}();(function(b){(function(A){var q={searchParams:"URLSearchParams"in b,iterable:"Symbol"in b&&"iterator"in Symbol,blob:"FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in b,arrayBuffer:"ArrayBuffer"in b};function ot(g){return g&&DataView.prototype.isPrototypeOf(g)}if(q.arrayBuffer)var it=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],lt=ArrayBuffer.isView||function(g){return g&&it.indexOf(Object.prototype.toString.call(g))>-1};function nt(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function pt(g){return typeof g!="string"&&(g=String(g)),g}function ut(g){var E={next:function(){var H=g.shift();return{done:H===void 0,value:H}}};return q.iterable&&(E[Symbol.iterator]=function(){return E}),E}function G(g){this.map={},g instanceof G?g.forEach(function(E,H){this.append(H,E)},this):Array.isArray(g)?g.forEach(function(E){this.append(E[0],E[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(E){this.append(E,g[E])},this)}G.prototype.append=function(g,E){g=nt(g),E=pt(E);var H=this.map[g];this.map[g]=H?H+", "+E:E},G.prototype.delete=function(g){delete this.map[nt(g)]},G.prototype.get=function(g){return g=nt(g),this.has(g)?this.map[g]:null},G.prototype.has=function(g){return this.map.hasOwnProperty(nt(g))},G.prototype.set=function(g,E){this.map[nt(g)]=pt(E)},G.prototype.forEach=function(g,E){for(var H in this.map)this.map.hasOwnProperty(H)&&g.call(E,this.map[H],H,this)},G.prototype.keys=function(){var g=[];return this.forEach(function(E,H){g.push(H)}),ut(g)},G.prototype.values=function(){var g=[];return this.forEach(function(E){g.push(E)}),ut(g)},G.prototype.entries=function(){var g=[];return this.forEach(function(E,H){g.push([H,E])}),ut(g)},q.iterable&&(G.prototype[Symbol.iterator]=G.prototype.entries);function pe(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function _t(g){return new Promise(function(E,H){g.onload=function(){E(g.result)},g.onerror=function(){H(g.error)}})}function Xt(g){var E=new FileReader,H=_t(E);return E.readAsArrayBuffer(g),H}function jr(g){var E=new FileReader,H=_t(E);return E.readAsText(g),H}function Rt(g){for(var E=new Uint8Array(g),H=new Array(E.length),K=0;K<E.length;K++)H[K]=String.fromCharCode(E[K]);return H.join("")}function te(g){if(g.slice)return g.slice(0);var E=new Uint8Array(g.byteLength);return E.set(new Uint8Array(g)),E.buffer}function It(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:q.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:q.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:q.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():q.arrayBuffer&&q.blob&&ot(g)?(this._bodyArrayBuffer=te(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||lt(g))?this._bodyArrayBuffer=te(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):q.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},q.blob&&(this.blob=function(){var g=pe(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?pe(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Xt)}),this.text=function(){var g=pe(this);if(g)return g;if(this._bodyBlob)return jr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},q.formData&&(this.formData=function(){return this.text().then(tr)}),this.json=function(){return this.text().then(JSON.parse)},this}var de=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ut(g){var E=g.toUpperCase();return de.indexOf(E)>-1?E:g}function At(g,E){E=E||{};var H=E.body;if(g instanceof At){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,E.headers||(this.headers=new G(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!H&&g._bodyInit!=null&&(H=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new G(E.headers)),this.method=Ut(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}At.prototype.clone=function(){return new At(this,{body:this._bodyInit})};function tr(g){var E=new FormData;return g.trim().split("&").forEach(function(H){if(H){var K=H.split("="),V=K.shift().replace(/\+/g," "),U=K.join("=").replace(/\+/g," ");E.append(decodeURIComponent(V),decodeURIComponent(U))}}),E}function An(g){var E=new G,H=g.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(K){var V=K.split(":"),U=V.shift().trim();if(U){var ee=V.join(":").trim();E.append(U,ee)}}),E}It.call(At.prototype);function Ht(g,E){E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new G(E.headers),this.url=E.url||"",this._initBody(g)}It.call(Ht.prototype),Ht.prototype.clone=function(){return new Ht(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new G(this.headers),url:this.url})},Ht.error=function(){var g=new Ht(null,{status:0,statusText:""});return g.type="error",g};var On=[301,302,303,307,308];Ht.redirect=function(g,E){if(On.indexOf(E)===-1)throw new RangeError("Invalid status code");return new Ht(null,{status:E,headers:{location:g}})},A.DOMException=b.DOMException;try{new A.DOMException}catch{A.DOMException=function(E,H){this.message=E,this.name=H;var K=Error(E);this.stack=K.stack},A.DOMException.prototype=Object.create(Error.prototype),A.DOMException.prototype.constructor=A.DOMException}function er(g,E){return new Promise(function(H,K){var V=new At(g,E);if(V.signal&&V.signal.aborted)return K(new A.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function ee(){U.abort()}U.onload=function(){var dt={status:U.status,statusText:U.statusText,headers:An(U.getAllResponseHeaders()||"")};dt.url="responseURL"in U?U.responseURL:dt.headers.get("X-Request-URL");var rr="response"in U?U.response:U.responseText;H(new Ht(rr,dt))},U.onerror=function(){K(new TypeError("Network request failed"))},U.ontimeout=function(){K(new TypeError("Network request failed"))},U.onabort=function(){K(new A.DOMException("Aborted","AbortError"))},U.open(V.method,V.url,!0),V.credentials==="include"?U.withCredentials=!0:V.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&q.blob&&(U.responseType="blob"),V.headers.forEach(function(dt,rr){U.setRequestHeader(rr,dt)}),V.signal&&(V.signal.addEventListener("abort",ee),U.onreadystatechange=function(){U.readyState===4&&V.signal.removeEventListener("abort",ee)}),U.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return er.polyfill=!0,b.fetch||(b.fetch=er,b.Headers=G,b.Request=At,b.Response=Ht),A.Headers=G,A.Request=At,A.Response=Ht,A.fetch=er,Object.defineProperty(A,"__esModule",{value:!0}),A})({})})(h),h.fetch.ponyfill=!0,delete h.fetch.polyfill;var v=h;s=v.fetch,s.default=v.fetch,s.fetch=v.fetch,s.Headers=v.Headers,s.Request=v.Request,s.Response=v.Response,P.exports=s})(rs,rs.exports);var ug=rs.exports;const Uo=Qv(ug),cg={Accept:"application/json","Content-Type":"application/json"},hg="POST",zo={headers:cg,method:hg},Wo=10;class Ae{constructor(s,i=!1){if(this.url=s,this.disableProviderPing=i,this.events=new ru.EventEmitter,this.isAvailable=!1,this.registering=!1,!Lo(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);this.url=s,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}off(s,i){this.events.off(s,i)}removeListener(s,i){this.events.removeListener(s,i)}async open(s=this.url){await this.register(s)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(s,i){this.isAvailable||await this.register();try{const h=Bo(s),b=await(await Uo(this.url,Object.assign(Object.assign({},zo),{body:h}))).json();this.onPayload({data:b})}catch(h){this.onError(s.id,h)}}async register(s=this.url){if(!Lo(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((h,v)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),v(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return v(new Error("HTTP connection is missing or invalid"));h()})})}this.url=s,this.registering=!0;try{if(!this.disableProviderPing){const i=Bo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Uo(s,Object.assign(Object.assign({},zo),{body:i}))}this.onOpen()}catch(i){const h=this.parseError(i);throw this.events.emit("register_error",h),this.onClose(),h}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(s){if(typeof s.data>"u")return;const i=typeof s.data=="string"?Kv(s.data):s.data;this.events.emit("payload",i)}onError(s,i){const h=this.parseError(i),v=h.message||h.toString(),b=Zv(s,v);this.events.emit("payload",b)}parseError(s,i=this.url){return Yv(s,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Wo&&this.events.setMaxListeners(Wo)}}const Go="error",fg="wss://relay.walletconnect.com",lg="wc",pg="universal_provider",Vo=`${lg}@2:${pg}:`,dg="https://rpc.walletconnect.com/v1/",le={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(P,s){(function(){var i,h="4.17.21",v=200,b="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",A="Expected a function",q="Invalid `variable` option passed into `_.template`",ot="__lodash_hash_undefined__",it=500,lt="__lodash_placeholder__",nt=1,pt=2,ut=4,G=1,pe=2,_t=1,Xt=2,jr=4,Rt=8,te=16,It=32,de=64,Ut=128,At=256,tr=512,An=30,Ht="...",On=800,er=16,g=1,E=2,H=3,K=1/0,V=9007199254740991,U=17976931348623157e292,ee=0/0,dt=4294967295,rr=dt-1,au=dt>>>1,ou=[["ary",Ut],["bind",_t],["bindKey",Xt],["curry",Rt],["curryRight",te],["flip",tr],["partial",It],["partialRight",de],["rearg",At]],Me="[object Arguments]",Dr="[object Array]",uu="[object AsyncFunction]",nr="[object Boolean]",ir="[object Date]",cu="[object DOMException]",xr="[object Error]",Sr="[object Function]",us="[object GeneratorFunction]",zt="[object Map]",sr="[object Number]",hu="[object Null]",re="[object Object]",cs="[object Promise]",fu="[object Proxy]",ar="[object RegExp]",Wt="[object Set]",or="[object String]",Tr="[object Symbol]",lu="[object Undefined]",ur="[object WeakMap]",pu="[object WeakSet]",cr="[object ArrayBuffer]",ke="[object DataView]",jn="[object Float32Array]",Dn="[object Float64Array]",xn="[object Int8Array]",Sn="[object Int16Array]",Tn="[object Int32Array]",Rn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",$n="[object Uint16Array]",qn="[object Uint32Array]",du=/\b__p \+= '';/g,vu=/\b(__p \+=) '' \+/g,gu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hs=/&(?:amp|lt|gt|quot|#39);/g,fs=/[&<>"']/g,_u=RegExp(hs.source),mu=RegExp(fs.source),yu=/<%-([\s\S]+?)%>/g,wu=/<%([\s\S]+?)%>/g,ls=/<%=([\s\S]+?)%>/g,bu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pu=/^\w*$/,Eu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mn=/[\\^$.*+?()[\]{}|]/g,Cu=RegExp(Mn.source),kn=/^\s+/,Iu=/\s/,Au=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ou=/\{\n\/\* \[wrapped with (.+)\] \*/,ju=/,? & /,Du=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xu=/[()=,{}\[\]\/\s]/,Su=/\\(\\)?/g,Tu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ps=/\w*$/,Ru=/^[-+]0x[0-9a-f]+$/i,Hu=/^0b[01]+$/i,$u=/^\[object .+?Constructor\]$/,qu=/^0o[0-7]+$/i,Mu=/^(?:0|[1-9]\d*)$/,ku=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rr=/($^)/,Nu=/['\n\r\u2028\u2029\\]/g,Hr="\\ud800-\\udfff",Lu="\\u0300-\\u036f",Bu="\\ufe20-\\ufe2f",Fu="\\u20d0-\\u20ff",ds=Lu+Bu+Fu,vs="\\u2700-\\u27bf",gs="a-z\\xdf-\\xf6\\xf8-\\xff",Uu="\\xac\\xb1\\xd7\\xf7",zu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wu="\\u2000-\\u206f",Gu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_s="A-Z\\xc0-\\xd6\\xd8-\\xde",ms="\\ufe0e\\ufe0f",ys=Uu+zu+Wu+Gu,Nn="['’]",Vu="["+Hr+"]",ws="["+ys+"]",$r="["+ds+"]",bs="\\d+",Ju="["+vs+"]",Ps="["+gs+"]",Es="[^"+Hr+ys+bs+vs+gs+_s+"]",Ln="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+$r+"|"+Ln+")",Cs="[^"+Hr+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Fn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ne="["+_s+"]",Is="\\u200d",As="(?:"+Ps+"|"+Es+")",Ku="(?:"+Ne+"|"+Es+")",Os="(?:"+Nn+"(?:d|ll|m|re|s|t|ve))?",js="(?:"+Nn+"(?:D|LL|M|RE|S|T|VE))?",Ds=Qu+"?",xs="["+ms+"]?",Zu="(?:"+Is+"(?:"+[Cs,Bn,Fn].join("|")+")"+xs+Ds+")*",Yu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ss=xs+Ds+Zu,tc="(?:"+[Ju,Bn,Fn].join("|")+")"+Ss,ec="(?:"+[Cs+$r+"?",$r,Bn,Fn,Vu].join("|")+")",rc=RegExp(Nn,"g"),nc=RegExp($r,"g"),Un=RegExp(Ln+"(?="+Ln+")|"+ec+Ss,"g"),ic=RegExp([Ne+"?"+Ps+"+"+Os+"(?="+[ws,Ne,"$"].join("|")+")",Ku+"+"+js+"(?="+[ws,Ne+As,"$"].join("|")+")",Ne+"?"+As+"+"+Os,Ne+"+"+js,Xu,Yu,bs,tc].join("|"),"g"),sc=RegExp("["+Is+Hr+ds+ms+"]"),ac=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uc=-1,Q={};Q[jn]=Q[Dn]=Q[xn]=Q[Sn]=Q[Tn]=Q[Rn]=Q[Hn]=Q[$n]=Q[qn]=!0,Q[Me]=Q[Dr]=Q[cr]=Q[nr]=Q[ke]=Q[ir]=Q[xr]=Q[Sr]=Q[zt]=Q[sr]=Q[re]=Q[ar]=Q[Wt]=Q[or]=Q[ur]=!1;var J={};J[Me]=J[Dr]=J[cr]=J[ke]=J[nr]=J[ir]=J[jn]=J[Dn]=J[xn]=J[Sn]=J[Tn]=J[zt]=J[sr]=J[re]=J[ar]=J[Wt]=J[or]=J[Tr]=J[Rn]=J[Hn]=J[$n]=J[qn]=!0,J[xr]=J[Sr]=J[ur]=!1;var cc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},hc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pc=parseFloat,dc=parseInt,Ts=typeof Ir=="object"&&Ir&&Ir.Object===Object&&Ir,vc=typeof self=="object"&&self&&self.Object===Object&&self,ht=Ts||vc||Function("return this")(),zn=s&&!s.nodeType&&s,Oe=zn&&!0&&P&&!P.nodeType&&P,Rs=Oe&&Oe.exports===zn,Wn=Rs&&Ts.process,$t=function(){try{var l=Oe&&Oe.require&&Oe.require("util").types;return l||Wn&&Wn.binding&&Wn.binding("util")}catch{}}(),Hs=$t&&$t.isArrayBuffer,$s=$t&&$t.isDate,qs=$t&&$t.isMap,Ms=$t&&$t.isRegExp,ks=$t&&$t.isSet,Ns=$t&&$t.isTypedArray;function Ot(l,_,d){switch(d.length){case 0:return l.call(_);case 1:return l.call(_,d[0]);case 2:return l.call(_,d[0],d[1]);case 3:return l.call(_,d[0],d[1],d[2])}return l.apply(_,d)}function gc(l,_,d,I){for(var S=-1,B=l==null?0:l.length;++S<B;){var st=l[S];_(I,st,d(st),l)}return I}function qt(l,_){for(var d=-1,I=l==null?0:l.length;++d<I&&_(l[d],d,l)!==!1;);return l}function _c(l,_){for(var d=l==null?0:l.length;d--&&_(l[d],d,l)!==!1;);return l}function Ls(l,_){for(var d=-1,I=l==null?0:l.length;++d<I;)if(!_(l[d],d,l))return!1;return!0}function ve(l,_){for(var d=-1,I=l==null?0:l.length,S=0,B=[];++d<I;){var st=l[d];_(st,d,l)&&(B[S++]=st)}return B}function qr(l,_){var d=l==null?0:l.length;return!!d&&Le(l,_,0)>-1}function Gn(l,_,d){for(var I=-1,S=l==null?0:l.length;++I<S;)if(d(_,l[I]))return!0;return!1}function Z(l,_){for(var d=-1,I=l==null?0:l.length,S=Array(I);++d<I;)S[d]=_(l[d],d,l);return S}function ge(l,_){for(var d=-1,I=_.length,S=l.length;++d<I;)l[S+d]=_[d];return l}function Vn(l,_,d,I){var S=-1,B=l==null?0:l.length;for(I&&B&&(d=l[++S]);++S<B;)d=_(d,l[S],S,l);return d}function mc(l,_,d,I){var S=l==null?0:l.length;for(I&&S&&(d=l[--S]);S--;)d=_(d,l[S],S,l);return d}function Jn(l,_){for(var d=-1,I=l==null?0:l.length;++d<I;)if(_(l[d],d,l))return!0;return!1}var yc=Qn("length");function wc(l){return l.split("")}function bc(l){return l.match(Du)||[]}function Bs(l,_,d){var I;return d(l,function(S,B,st){if(_(S,B,st))return I=B,!1}),I}function Mr(l,_,d,I){for(var S=l.length,B=d+(I?1:-1);I?B--:++B<S;)if(_(l[B],B,l))return B;return-1}function Le(l,_,d){return _===_?Rc(l,_,d):Mr(l,Fs,d)}function Pc(l,_,d,I){for(var S=d-1,B=l.length;++S<B;)if(I(l[S],_))return S;return-1}function Fs(l){return l!==l}function Us(l,_){var d=l==null?0:l.length;return d?Zn(l,_)/d:ee}function Qn(l){return function(_){return _==null?i:_[l]}}function Kn(l){return function(_){return l==null?i:l[_]}}function zs(l,_,d,I,S){return S(l,function(B,st,W){d=I?(I=!1,B):_(d,B,st,W)}),d}function Ec(l,_){var d=l.length;for(l.sort(_);d--;)l[d]=l[d].value;return l}function Zn(l,_){for(var d,I=-1,S=l.length;++I<S;){var B=_(l[I]);B!==i&&(d=d===i?B:d+B)}return d}function Yn(l,_){for(var d=-1,I=Array(l);++d<l;)I[d]=_(d);return I}function Cc(l,_){return Z(_,function(d){return[d,l[d]]})}function Ws(l){return l&&l.slice(0,Qs(l)+1).replace(kn,"")}function jt(l){return function(_){return l(_)}}function Xn(l,_){return Z(_,function(d){return l[d]})}function hr(l,_){return l.has(_)}function Gs(l,_){for(var d=-1,I=l.length;++d<I&&Le(_,l[d],0)>-1;);return d}function Vs(l,_){for(var d=l.length;d--&&Le(_,l[d],0)>-1;);return d}function Ic(l,_){for(var d=l.length,I=0;d--;)l[d]===_&&++I;return I}var Ac=Kn(cc),Oc=Kn(hc);function jc(l){return"\\"+lc[l]}function Dc(l,_){return l==null?i:l[_]}function Be(l){return sc.test(l)}function xc(l){return ac.test(l)}function Sc(l){for(var _,d=[];!(_=l.next()).done;)d.push(_.value);return d}function ti(l){var _=-1,d=Array(l.size);return l.forEach(function(I,S){d[++_]=[S,I]}),d}function Js(l,_){return function(d){return l(_(d))}}function _e(l,_){for(var d=-1,I=l.length,S=0,B=[];++d<I;){var st=l[d];(st===_||st===lt)&&(l[d]=lt,B[S++]=d)}return B}function kr(l){var _=-1,d=Array(l.size);return l.forEach(function(I){d[++_]=I}),d}function Tc(l){var _=-1,d=Array(l.size);return l.forEach(function(I){d[++_]=[I,I]}),d}function Rc(l,_,d){for(var I=d-1,S=l.length;++I<S;)if(l[I]===_)return I;return-1}function Hc(l,_,d){for(var I=d+1;I--;)if(l[I]===_)return I;return I}function Fe(l){return Be(l)?qc(l):yc(l)}function Gt(l){return Be(l)?Mc(l):wc(l)}function Qs(l){for(var _=l.length;_--&&Iu.test(l.charAt(_)););return _}var $c=Kn(fc);function qc(l){for(var _=Un.lastIndex=0;Un.test(l);)++_;return _}function Mc(l){return l.match(Un)||[]}function kc(l){return l.match(ic)||[]}var Nc=function l(_){_=_==null?ht:Ue.defaults(ht.Object(),_,Ue.pick(ht,oc));var d=_.Array,I=_.Date,S=_.Error,B=_.Function,st=_.Math,W=_.Object,ei=_.RegExp,Lc=_.String,Mt=_.TypeError,Nr=d.prototype,Bc=B.prototype,ze=W.prototype,Lr=_["__core-js_shared__"],Br=Bc.toString,z=ze.hasOwnProperty,Fc=0,Ks=function(){var t=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Fr=ze.toString,Uc=Br.call(W),zc=ht._,Wc=ei("^"+Br.call(z).replace(Mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=Rs?_.Buffer:i,me=_.Symbol,zr=_.Uint8Array,Zs=Ur?Ur.allocUnsafe:i,Wr=Js(W.getPrototypeOf,W),Ys=W.create,Xs=ze.propertyIsEnumerable,Gr=Nr.splice,ta=me?me.isConcatSpreadable:i,fr=me?me.iterator:i,je=me?me.toStringTag:i,Vr=function(){try{var t=Re(W,"defineProperty");return t({},"",{}),t}catch{}}(),Gc=_.clearTimeout!==ht.clearTimeout&&_.clearTimeout,Vc=I&&I.now!==ht.Date.now&&I.now,Jc=_.setTimeout!==ht.setTimeout&&_.setTimeout,Jr=st.ceil,Qr=st.floor,ri=W.getOwnPropertySymbols,Qc=Ur?Ur.isBuffer:i,ea=_.isFinite,Kc=Nr.join,Zc=Js(W.keys,W),at=st.max,vt=st.min,Yc=I.now,Xc=_.parseInt,ra=st.random,th=Nr.reverse,ni=Re(_,"DataView"),lr=Re(_,"Map"),ii=Re(_,"Promise"),We=Re(_,"Set"),pr=Re(_,"WeakMap"),dr=Re(W,"create"),Kr=pr&&new pr,Ge={},eh=He(ni),rh=He(lr),nh=He(ii),ih=He(We),sh=He(pr),Zr=me?me.prototype:i,vr=Zr?Zr.valueOf:i,na=Zr?Zr.toString:i;function o(t){if(tt(t)&&!T(t)&&!(t instanceof N)){if(t instanceof kt)return t;if(z.call(t,"__wrapped__"))return io(t)}return new kt(t)}var Ve=function(){function t(){}return function(e){if(!X(e))return{};if(Ys)return Ys(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Yr(){}function kt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}o.templateSettings={escape:yu,evaluate:wu,interpolate:ls,variable:"",imports:{_:o}},o.prototype=Yr.prototype,o.prototype.constructor=o,kt.prototype=Ve(Yr.prototype),kt.prototype.constructor=kt;function N(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function ah(){var t=new N(this.__wrapped__);return t.__actions__=bt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=bt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=bt(this.__views__),t}function oh(){if(this.__filtered__){var t=new N(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function uh(){var t=this.__wrapped__.value(),e=this.__dir__,r=T(t),n=e<0,a=r?t.length:0,u=bf(0,a,this.__views__),c=u.start,f=u.end,p=f-c,m=n?f:c-1,y=this.__iteratees__,w=y.length,C=0,O=vt(p,this.__takeCount__);if(!r||!n&&a==p&&O==p)return Oa(t,this.__actions__);var D=[];t:for(;p--&&C<O;){m+=e;for(var $=-1,x=t[m];++$<w;){var k=y[$],L=k.iteratee,St=k.type,wt=L(x);if(St==E)x=wt;else if(!wt){if(St==g)continue t;break t}}D[C++]=x}return D}N.prototype=Ve(Yr.prototype),N.prototype.constructor=N;function De(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ch(){this.__data__=dr?dr(null):{},this.size=0}function hh(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function fh(t){var e=this.__data__;if(dr){var r=e[t];return r===ot?i:r}return z.call(e,t)?e[t]:i}function lh(t){var e=this.__data__;return dr?e[t]!==i:z.call(e,t)}function ph(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=dr&&e===i?ot:e,this}De.prototype.clear=ch,De.prototype.delete=hh,De.prototype.get=fh,De.prototype.has=lh,De.prototype.set=ph;function ne(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dh(){this.__data__=[],this.size=0}function vh(t){var e=this.__data__,r=Xr(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gr.call(e,r,1),--this.size,!0}function gh(t){var e=this.__data__,r=Xr(e,t);return r<0?i:e[r][1]}function _h(t){return Xr(this.__data__,t)>-1}function mh(t,e){var r=this.__data__,n=Xr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}ne.prototype.clear=dh,ne.prototype.delete=vh,ne.prototype.get=gh,ne.prototype.has=_h,ne.prototype.set=mh;function ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yh(){this.size=0,this.__data__={hash:new De,map:new(lr||ne),string:new De}}function wh(t){var e=ln(this,t).delete(t);return this.size-=e?1:0,e}function bh(t){return ln(this,t).get(t)}function Ph(t){return ln(this,t).has(t)}function Eh(t,e){var r=ln(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}ie.prototype.clear=yh,ie.prototype.delete=wh,ie.prototype.get=bh,ie.prototype.has=Ph,ie.prototype.set=Eh;function xe(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ie;++e<r;)this.add(t[e])}function Ch(t){return this.__data__.set(t,ot),this}function Ih(t){return this.__data__.has(t)}xe.prototype.add=xe.prototype.push=Ch,xe.prototype.has=Ih;function Vt(t){var e=this.__data__=new ne(t);this.size=e.size}function Ah(){this.__data__=new ne,this.size=0}function Oh(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function jh(t){return this.__data__.get(t)}function Dh(t){return this.__data__.has(t)}function xh(t,e){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!lr||n.length<v-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(t,e),this.size=r.size,this}Vt.prototype.clear=Ah,Vt.prototype.delete=Oh,Vt.prototype.get=jh,Vt.prototype.has=Dh,Vt.prototype.set=xh;function ia(t,e){var r=T(t),n=!r&&$e(t),a=!r&&!n&&Ee(t),u=!r&&!n&&!a&&Ze(t),c=r||n||a||u,f=c?Yn(t.length,Lc):[],p=f.length;for(var m in t)(e||z.call(t,m))&&!(c&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||ue(m,p)))&&f.push(m);return f}function sa(t){var e=t.length;return e?t[vi(0,e-1)]:i}function Sh(t,e){return pn(bt(t),Se(e,0,t.length))}function Th(t){return pn(bt(t))}function si(t,e,r){(r!==i&&!Jt(t[e],r)||r===i&&!(e in t))&&se(t,e,r)}function gr(t,e,r){var n=t[e];(!(z.call(t,e)&&Jt(n,r))||r===i&&!(e in t))&&se(t,e,r)}function Xr(t,e){for(var r=t.length;r--;)if(Jt(t[r][0],e))return r;return-1}function Rh(t,e,r,n){return ye(t,function(a,u,c){e(n,a,r(a),c)}),n}function aa(t,e){return t&&Zt(e,ct(e),t)}function Hh(t,e){return t&&Zt(e,Et(e),t)}function se(t,e,r){e=="__proto__"&&Vr?Vr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ai(t,e){for(var r=-1,n=e.length,a=d(n),u=t==null;++r<n;)a[r]=u?i:Li(t,e[r]);return a}function Se(t,e,r){return t===t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function Nt(t,e,r,n,a,u){var c,f=e&nt,p=e&pt,m=e&ut;if(r&&(c=a?r(t,n,a,u):r(t)),c!==i)return c;if(!X(t))return t;var y=T(t);if(y){if(c=Ef(t),!f)return bt(t,c)}else{var w=gt(t),C=w==Sr||w==us;if(Ee(t))return xa(t,f);if(w==re||w==Me||C&&!a){if(c=p||C?{}:Qa(t),!f)return p?lf(t,Hh(c,t)):ff(t,aa(c,t))}else{if(!J[w])return a?t:{};c=Cf(t,w,f)}}u||(u=new Vt);var O=u.get(t);if(O)return O;u.set(t,c),Io(t)?t.forEach(function(x){c.add(Nt(x,e,r,x,t,u))}):Eo(t)&&t.forEach(function(x,k){c.set(k,Nt(x,e,r,k,t,u))});var D=m?p?Ai:Ii:p?Et:ct,$=y?i:D(t);return qt($||t,function(x,k){$&&(k=x,x=t[k]),gr(c,k,Nt(x,e,r,k,t,u))}),c}function $h(t){var e=ct(t);return function(r){return oa(r,t,e)}}function oa(t,e,r){var n=r.length;if(t==null)return!n;for(t=W(t);n--;){var a=r[n],u=e[a],c=t[a];if(c===i&&!(a in t)||!u(c))return!1}return!0}function ua(t,e,r){if(typeof t!="function")throw new Mt(A);return Er(function(){t.apply(i,r)},e)}function _r(t,e,r,n){var a=-1,u=qr,c=!0,f=t.length,p=[],m=e.length;if(!f)return p;r&&(e=Z(e,jt(r))),n?(u=Gn,c=!1):e.length>=v&&(u=hr,c=!1,e=new xe(e));t:for(;++a<f;){var y=t[a],w=r==null?y:r(y);if(y=n||y!==0?y:0,c&&w===w){for(var C=m;C--;)if(e[C]===w)continue t;p.push(y)}else u(e,w,n)||p.push(y)}return p}var ye=$a(Kt),ca=$a(ui,!0);function qh(t,e){var r=!0;return ye(t,function(n,a,u){return r=!!e(n,a,u),r}),r}function tn(t,e,r){for(var n=-1,a=t.length;++n<a;){var u=t[n],c=e(u);if(c!=null&&(f===i?c===c&&!xt(c):r(c,f)))var f=c,p=u}return p}function Mh(t,e,r,n){var a=t.length;for(r=R(r),r<0&&(r=-r>a?0:a+r),n=n===i||n>a?a:R(n),n<0&&(n+=a),n=r>n?0:Oo(n);r<n;)t[r++]=e;return t}function ha(t,e){var r=[];return ye(t,function(n,a,u){e(n,a,u)&&r.push(n)}),r}function ft(t,e,r,n,a){var u=-1,c=t.length;for(r||(r=Af),a||(a=[]);++u<c;){var f=t[u];e>0&&r(f)?e>1?ft(f,e-1,r,n,a):ge(a,f):n||(a[a.length]=f)}return a}var oi=qa(),fa=qa(!0);function Kt(t,e){return t&&oi(t,e,ct)}function ui(t,e){return t&&fa(t,e,ct)}function en(t,e){return ve(e,function(r){return ce(t[r])})}function Te(t,e){e=be(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Yt(e[r++])];return r&&r==n?t:i}function la(t,e,r){var n=e(t);return T(t)?n:ge(n,r(t))}function mt(t){return t==null?t===i?lu:hu:je&&je in W(t)?wf(t):Rf(t)}function ci(t,e){return t>e}function kh(t,e){return t!=null&&z.call(t,e)}function Nh(t,e){return t!=null&&e in W(t)}function Lh(t,e,r){return t>=vt(e,r)&&t<at(e,r)}function hi(t,e,r){for(var n=r?Gn:qr,a=t[0].length,u=t.length,c=u,f=d(u),p=1/0,m=[];c--;){var y=t[c];c&&e&&(y=Z(y,jt(e))),p=vt(y.length,p),f[c]=!r&&(e||a>=120&&y.length>=120)?new xe(c&&y):i}y=t[0];var w=-1,C=f[0];t:for(;++w<a&&m.length<p;){var O=y[w],D=e?e(O):O;if(O=r||O!==0?O:0,!(C?hr(C,D):n(m,D,r))){for(c=u;--c;){var $=f[c];if(!($?hr($,D):n(t[c],D,r)))continue t}C&&C.push(D),m.push(O)}}return m}function Bh(t,e,r,n){return Kt(t,function(a,u,c){e(n,r(a),u,c)}),n}function mr(t,e,r){e=be(e,t),t=Xa(t,e);var n=t==null?t:t[Yt(Bt(e))];return n==null?i:Ot(n,t,r)}function pa(t){return tt(t)&&mt(t)==Me}function Fh(t){return tt(t)&&mt(t)==cr}function Uh(t){return tt(t)&&mt(t)==ir}function yr(t,e,r,n,a){return t===e?!0:t==null||e==null||!tt(t)&&!tt(e)?t!==t&&e!==e:zh(t,e,r,n,yr,a)}function zh(t,e,r,n,a,u){var c=T(t),f=T(e),p=c?Dr:gt(t),m=f?Dr:gt(e);p=p==Me?re:p,m=m==Me?re:m;var y=p==re,w=m==re,C=p==m;if(C&&Ee(t)){if(!Ee(e))return!1;c=!0,y=!1}if(C&&!y)return u||(u=new Vt),c||Ze(t)?Ga(t,e,r,n,a,u):mf(t,e,p,r,n,a,u);if(!(r&G)){var O=y&&z.call(t,"__wrapped__"),D=w&&z.call(e,"__wrapped__");if(O||D){var $=O?t.value():t,x=D?e.value():e;return u||(u=new Vt),a($,x,r,n,u)}}return C?(u||(u=new Vt),yf(t,e,r,n,a,u)):!1}function Wh(t){return tt(t)&&gt(t)==zt}function fi(t,e,r,n){var a=r.length,u=a,c=!n;if(t==null)return!u;for(t=W(t);a--;){var f=r[a];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++a<u;){f=r[a];var p=f[0],m=t[p],y=f[1];if(c&&f[2]){if(m===i&&!(p in t))return!1}else{var w=new Vt;if(n)var C=n(m,y,p,t,e,w);if(!(C===i?yr(y,m,G|pe,n,w):C))return!1}}return!0}function da(t){if(!X(t)||jf(t))return!1;var e=ce(t)?Wc:$u;return e.test(He(t))}function Gh(t){return tt(t)&&mt(t)==ar}function Vh(t){return tt(t)&&gt(t)==Wt}function Jh(t){return tt(t)&&yn(t.length)&&!!Q[mt(t)]}function va(t){return typeof t=="function"?t:t==null?Ct:typeof t=="object"?T(t)?ma(t[0],t[1]):_a(t):ko(t)}function li(t){if(!Pr(t))return Zc(t);var e=[];for(var r in W(t))z.call(t,r)&&r!="constructor"&&e.push(r);return e}function Qh(t){if(!X(t))return Tf(t);var e=Pr(t),r=[];for(var n in t)n=="constructor"&&(e||!z.call(t,n))||r.push(n);return r}function pi(t,e){return t<e}function ga(t,e){var r=-1,n=Pt(t)?d(t.length):[];return ye(t,function(a,u,c){n[++r]=e(a,u,c)}),n}function _a(t){var e=ji(t);return e.length==1&&e[0][2]?Za(e[0][0],e[0][1]):function(r){return r===t||fi(r,t,e)}}function ma(t,e){return xi(t)&&Ka(e)?Za(Yt(t),e):function(r){var n=Li(r,t);return n===i&&n===e?Bi(r,t):yr(e,n,G|pe)}}function rn(t,e,r,n,a){t!==e&&oi(e,function(u,c){if(a||(a=new Vt),X(u))Kh(t,e,c,r,rn,n,a);else{var f=n?n(Ti(t,c),u,c+"",t,e,a):i;f===i&&(f=u),si(t,c,f)}},Et)}function Kh(t,e,r,n,a,u,c){var f=Ti(t,r),p=Ti(e,r),m=c.get(p);if(m){si(t,r,m);return}var y=u?u(f,p,r+"",t,e,c):i,w=y===i;if(w){var C=T(p),O=!C&&Ee(p),D=!C&&!O&&Ze(p);y=p,C||O||D?T(f)?y=f:et(f)?y=bt(f):O?(w=!1,y=xa(p,!0)):D?(w=!1,y=Sa(p,!0)):y=[]:Cr(p)||$e(p)?(y=f,$e(f)?y=jo(f):(!X(f)||ce(f))&&(y=Qa(p))):w=!1}w&&(c.set(p,y),a(y,p,n,u,c),c.delete(p)),si(t,r,y)}function ya(t,e){var r=t.length;if(r)return e+=e<0?r:0,ue(e,r)?t[e]:i}function wa(t,e,r){e.length?e=Z(e,function(u){return T(u)?function(c){return Te(c,u.length===1?u[0]:u)}:u}):e=[Ct];var n=-1;e=Z(e,jt(j()));var a=ga(t,function(u,c,f){var p=Z(e,function(m){return m(u)});return{criteria:p,index:++n,value:u}});return Ec(a,function(u,c){return hf(u,c,r)})}function Zh(t,e){return ba(t,e,function(r,n){return Bi(t,n)})}function ba(t,e,r){for(var n=-1,a=e.length,u={};++n<a;){var c=e[n],f=Te(t,c);r(f,c)&&wr(u,be(c,t),f)}return u}function Yh(t){return function(e){return Te(e,t)}}function di(t,e,r,n){var a=n?Pc:Le,u=-1,c=e.length,f=t;for(t===e&&(e=bt(e)),r&&(f=Z(t,jt(r)));++u<c;)for(var p=0,m=e[u],y=r?r(m):m;(p=a(f,y,p,n))>-1;)f!==t&&Gr.call(f,p,1),Gr.call(t,p,1);return t}function Pa(t,e){for(var r=t?e.length:0,n=r-1;r--;){var a=e[r];if(r==n||a!==u){var u=a;ue(a)?Gr.call(t,a,1):mi(t,a)}}return t}function vi(t,e){return t+Qr(ra()*(e-t+1))}function Xh(t,e,r,n){for(var a=-1,u=at(Jr((e-t)/(r||1)),0),c=d(u);u--;)c[n?u:++a]=t,t+=r;return c}function gi(t,e){var r="";if(!t||e<1||e>V)return r;do e%2&&(r+=t),e=Qr(e/2),e&&(t+=t);while(e);return r}function M(t,e){return Ri(Ya(t,e,Ct),t+"")}function tf(t){return sa(Ye(t))}function ef(t,e){var r=Ye(t);return pn(r,Se(e,0,r.length))}function wr(t,e,r,n){if(!X(t))return t;e=be(e,t);for(var a=-1,u=e.length,c=u-1,f=t;f!=null&&++a<u;){var p=Yt(e[a]),m=r;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(a!=c){var y=f[p];m=n?n(y,p,f):i,m===i&&(m=X(y)?y:ue(e[a+1])?[]:{})}gr(f,p,m),f=f[p]}return t}var Ea=Kr?function(t,e){return Kr.set(t,e),t}:Ct,rf=Vr?function(t,e){return Vr(t,"toString",{configurable:!0,enumerable:!1,value:Ui(e),writable:!0})}:Ct;function nf(t){return pn(Ye(t))}function Lt(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var u=d(a);++n<a;)u[n]=t[n+e];return u}function sf(t,e){var r;return ye(t,function(n,a,u){return r=e(n,a,u),!r}),!!r}function nn(t,e,r){var n=0,a=t==null?n:t.length;if(typeof e=="number"&&e===e&&a<=au){for(;n<a;){var u=n+a>>>1,c=t[u];c!==null&&!xt(c)&&(r?c<=e:c<e)?n=u+1:a=u}return a}return _i(t,e,Ct,r)}function _i(t,e,r,n){var a=0,u=t==null?0:t.length;if(u===0)return 0;e=r(e);for(var c=e!==e,f=e===null,p=xt(e),m=e===i;a<u;){var y=Qr((a+u)/2),w=r(t[y]),C=w!==i,O=w===null,D=w===w,$=xt(w);if(c)var x=n||D;else m?x=D&&(n||C):f?x=D&&C&&(n||!O):p?x=D&&C&&!O&&(n||!$):O||$?x=!1:x=n?w<=e:w<e;x?a=y+1:u=y}return vt(u,rr)}function Ca(t,e){for(var r=-1,n=t.length,a=0,u=[];++r<n;){var c=t[r],f=e?e(c):c;if(!r||!Jt(f,p)){var p=f;u[a++]=c===0?0:c}}return u}function Ia(t){return typeof t=="number"?t:xt(t)?ee:+t}function Dt(t){if(typeof t=="string")return t;if(T(t))return Z(t,Dt)+"";if(xt(t))return na?na.call(t):"";var e=t+"";return e=="0"&&1/t==-K?"-0":e}function we(t,e,r){var n=-1,a=qr,u=t.length,c=!0,f=[],p=f;if(r)c=!1,a=Gn;else if(u>=v){var m=e?null:gf(t);if(m)return kr(m);c=!1,a=hr,p=new xe}else p=e?[]:f;t:for(;++n<u;){var y=t[n],w=e?e(y):y;if(y=r||y!==0?y:0,c&&w===w){for(var C=p.length;C--;)if(p[C]===w)continue t;e&&p.push(w),f.push(y)}else a(p,w,r)||(p!==f&&p.push(w),f.push(y))}return f}function mi(t,e){return e=be(e,t),t=Xa(t,e),t==null||delete t[Yt(Bt(e))]}function Aa(t,e,r,n){return wr(t,e,r(Te(t,e)),n)}function sn(t,e,r,n){for(var a=t.length,u=n?a:-1;(n?u--:++u<a)&&e(t[u],u,t););return r?Lt(t,n?0:u,n?u+1:a):Lt(t,n?u+1:0,n?a:u)}function Oa(t,e){var r=t;return r instanceof N&&(r=r.value()),Vn(e,function(n,a){return a.func.apply(a.thisArg,ge([n],a.args))},r)}function yi(t,e,r){var n=t.length;if(n<2)return n?we(t[0]):[];for(var a=-1,u=d(n);++a<n;)for(var c=t[a],f=-1;++f<n;)f!=a&&(u[a]=_r(u[a]||c,t[f],e,r));return we(ft(u,1),e,r)}function ja(t,e,r){for(var n=-1,a=t.length,u=e.length,c={};++n<a;){var f=n<u?e[n]:i;r(c,t[n],f)}return c}function wi(t){return et(t)?t:[]}function bi(t){return typeof t=="function"?t:Ct}function be(t,e){return T(t)?t:xi(t,e)?[t]:no(F(t))}var af=M;function Pe(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:Lt(t,e,r)}var Da=Gc||function(t){return ht.clearTimeout(t)};function xa(t,e){if(e)return t.slice();var r=t.length,n=Zs?Zs(r):new t.constructor(r);return t.copy(n),n}function Pi(t){var e=new t.constructor(t.byteLength);return new zr(e).set(new zr(t)),e}function of(t,e){var r=e?Pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function uf(t){var e=new t.constructor(t.source,ps.exec(t));return e.lastIndex=t.lastIndex,e}function cf(t){return vr?W(vr.call(t)):{}}function Sa(t,e){var r=e?Pi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ta(t,e){if(t!==e){var r=t!==i,n=t===null,a=t===t,u=xt(t),c=e!==i,f=e===null,p=e===e,m=xt(e);if(!f&&!m&&!u&&t>e||u&&c&&p&&!f&&!m||n&&c&&p||!r&&p||!a)return 1;if(!n&&!u&&!m&&t<e||m&&r&&a&&!n&&!u||f&&r&&a||!c&&a||!p)return-1}return 0}function hf(t,e,r){for(var n=-1,a=t.criteria,u=e.criteria,c=a.length,f=r.length;++n<c;){var p=Ta(a[n],u[n]);if(p){if(n>=f)return p;var m=r[n];return p*(m=="desc"?-1:1)}}return t.index-e.index}function Ra(t,e,r,n){for(var a=-1,u=t.length,c=r.length,f=-1,p=e.length,m=at(u-c,0),y=d(p+m),w=!n;++f<p;)y[f]=e[f];for(;++a<c;)(w||a<u)&&(y[r[a]]=t[a]);for(;m--;)y[f++]=t[a++];return y}function Ha(t,e,r,n){for(var a=-1,u=t.length,c=-1,f=r.length,p=-1,m=e.length,y=at(u-f,0),w=d(y+m),C=!n;++a<y;)w[a]=t[a];for(var O=a;++p<m;)w[O+p]=e[p];for(;++c<f;)(C||a<u)&&(w[O+r[c]]=t[a++]);return w}function bt(t,e){var r=-1,n=t.length;for(e||(e=d(n));++r<n;)e[r]=t[r];return e}function Zt(t,e,r,n){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var f=e[u],p=n?n(r[f],t[f],f,r,t):i;p===i&&(p=t[f]),a?se(r,f,p):gr(r,f,p)}return r}function ff(t,e){return Zt(t,Di(t),e)}function lf(t,e){return Zt(t,Va(t),e)}function an(t,e){return function(r,n){var a=T(r)?gc:Rh,u=e?e():{};return a(r,t,j(n,2),u)}}function Je(t){return M(function(e,r){var n=-1,a=r.length,u=a>1?r[a-1]:i,c=a>2?r[2]:i;for(u=t.length>3&&typeof u=="function"?(a--,u):i,c&&yt(r[0],r[1],c)&&(u=a<3?i:u,a=1),e=W(e);++n<a;){var f=r[n];f&&t(e,f,n,u)}return e})}function $a(t,e){return function(r,n){if(r==null)return r;if(!Pt(r))return t(r,n);for(var a=r.length,u=e?a:-1,c=W(r);(e?u--:++u<a)&&n(c[u],u,c)!==!1;);return r}}function qa(t){return function(e,r,n){for(var a=-1,u=W(e),c=n(e),f=c.length;f--;){var p=c[t?f:++a];if(r(u[p],p,u)===!1)break}return e}}function pf(t,e,r){var n=e&_t,a=br(t);function u(){var c=this&&this!==ht&&this instanceof u?a:t;return c.apply(n?r:this,arguments)}return u}function Ma(t){return function(e){e=F(e);var r=Be(e)?Gt(e):i,n=r?r[0]:e.charAt(0),a=r?Pe(r,1).join(""):e.slice(1);return n[t]()+a}}function Qe(t){return function(e){return Vn(qo($o(e).replace(rc,"")),t,"")}}function br(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Ve(t.prototype),n=t.apply(r,e);return X(n)?n:r}}function df(t,e,r){var n=br(t);function a(){for(var u=arguments.length,c=d(u),f=u,p=Ke(a);f--;)c[f]=arguments[f];var m=u<3&&c[0]!==p&&c[u-1]!==p?[]:_e(c,p);if(u-=m.length,u<r)return Fa(t,e,on,a.placeholder,i,c,m,i,i,r-u);var y=this&&this!==ht&&this instanceof a?n:t;return Ot(y,this,c)}return a}function ka(t){return function(e,r,n){var a=W(e);if(!Pt(e)){var u=j(r,3);e=ct(e),r=function(f){return u(a[f],f,a)}}var c=t(e,r,n);return c>-1?a[u?e[c]:c]:i}}function Na(t){return oe(function(e){var r=e.length,n=r,a=kt.prototype.thru;for(t&&e.reverse();n--;){var u=e[n];if(typeof u!="function")throw new Mt(A);if(a&&!c&&fn(u)=="wrapper")var c=new kt([],!0)}for(n=c?n:r;++n<r;){u=e[n];var f=fn(u),p=f=="wrapper"?Oi(u):i;p&&Si(p[0])&&p[1]==(Ut|Rt|It|At)&&!p[4].length&&p[9]==1?c=c[fn(p[0])].apply(c,p[3]):c=u.length==1&&Si(u)?c[f]():c.thru(u)}return function(){var m=arguments,y=m[0];if(c&&m.length==1&&T(y))return c.plant(y).value();for(var w=0,C=r?e[w].apply(this,m):y;++w<r;)C=e[w].call(this,C);return C}})}function on(t,e,r,n,a,u,c,f,p,m){var y=e&Ut,w=e&_t,C=e&Xt,O=e&(Rt|te),D=e&tr,$=C?i:br(t);function x(){for(var k=arguments.length,L=d(k),St=k;St--;)L[St]=arguments[St];if(O)var wt=Ke(x),Tt=Ic(L,wt);if(n&&(L=Ra(L,n,a,O)),u&&(L=Ha(L,u,c,O)),k-=Tt,O&&k<m){var rt=_e(L,wt);return Fa(t,e,on,x.placeholder,r,L,rt,f,p,m-k)}var Qt=w?r:this,fe=C?Qt[t]:t;return k=L.length,f?L=Hf(L,f):D&&k>1&&L.reverse(),y&&p<k&&(L.length=p),this&&this!==ht&&this instanceof x&&(fe=$||br(fe)),fe.apply(Qt,L)}return x}function La(t,e){return function(r,n){return Bh(r,t,e(n),{})}}function un(t,e){return function(r,n){var a;if(r===i&&n===i)return e;if(r!==i&&(a=r),n!==i){if(a===i)return n;typeof r=="string"||typeof n=="string"?(r=Dt(r),n=Dt(n)):(r=Ia(r),n=Ia(n)),a=t(r,n)}return a}}function Ei(t){return oe(function(e){return e=Z(e,jt(j())),M(function(r){var n=this;return t(e,function(a){return Ot(a,n,r)})})})}function cn(t,e){e=e===i?" ":Dt(e);var r=e.length;if(r<2)return r?gi(e,t):e;var n=gi(e,Jr(t/Fe(e)));return Be(e)?Pe(Gt(n),0,t).join(""):n.slice(0,t)}function vf(t,e,r,n){var a=e&_t,u=br(t);function c(){for(var f=-1,p=arguments.length,m=-1,y=n.length,w=d(y+p),C=this&&this!==ht&&this instanceof c?u:t;++m<y;)w[m]=n[m];for(;p--;)w[m++]=arguments[++f];return Ot(C,a?r:this,w)}return c}function Ba(t){return function(e,r,n){return n&&typeof n!="number"&&yt(e,r,n)&&(r=n=i),e=he(e),r===i?(r=e,e=0):r=he(r),n=n===i?e<r?1:-1:he(n),Xh(e,r,n,t)}}function hn(t){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=Ft(e),r=Ft(r)),t(e,r)}}function Fa(t,e,r,n,a,u,c,f,p,m){var y=e&Rt,w=y?c:i,C=y?i:c,O=y?u:i,D=y?i:u;e|=y?It:de,e&=~(y?de:It),e&jr||(e&=~(_t|Xt));var $=[t,e,a,O,w,D,C,f,p,m],x=r.apply(i,$);return Si(t)&&to(x,$),x.placeholder=n,eo(x,t,e)}function Ci(t){var e=st[t];return function(r,n){if(r=Ft(r),n=n==null?0:vt(R(n),292),n&&ea(r)){var a=(F(r)+"e").split("e"),u=e(a[0]+"e"+(+a[1]+n));return a=(F(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return e(r)}}var gf=We&&1/kr(new We([,-0]))[1]==K?function(t){return new We(t)}:Gi;function Ua(t){return function(e){var r=gt(e);return r==zt?ti(e):r==Wt?Tc(e):Cc(e,t(e))}}function ae(t,e,r,n,a,u,c,f){var p=e&Xt;if(!p&&typeof t!="function")throw new Mt(A);var m=n?n.length:0;if(m||(e&=~(It|de),n=a=i),c=c===i?c:at(R(c),0),f=f===i?f:R(f),m-=a?a.length:0,e&de){var y=n,w=a;n=a=i}var C=p?i:Oi(t),O=[t,e,r,n,a,y,w,u,c,f];if(C&&Sf(O,C),t=O[0],e=O[1],r=O[2],n=O[3],a=O[4],f=O[9]=O[9]===i?p?0:t.length:at(O[9]-m,0),!f&&e&(Rt|te)&&(e&=~(Rt|te)),!e||e==_t)var D=pf(t,e,r);else e==Rt||e==te?D=df(t,e,f):(e==It||e==(_t|It))&&!a.length?D=vf(t,e,r,n):D=on.apply(i,O);var $=C?Ea:to;return eo($(D,O),t,e)}function za(t,e,r,n){return t===i||Jt(t,ze[r])&&!z.call(n,r)?e:t}function Wa(t,e,r,n,a,u){return X(t)&&X(e)&&(u.set(e,t),rn(t,e,i,Wa,u),u.delete(e)),t}function _f(t){return Cr(t)?i:t}function Ga(t,e,r,n,a,u){var c=r&G,f=t.length,p=e.length;if(f!=p&&!(c&&p>f))return!1;var m=u.get(t),y=u.get(e);if(m&&y)return m==e&&y==t;var w=-1,C=!0,O=r&pe?new xe:i;for(u.set(t,e),u.set(e,t);++w<f;){var D=t[w],$=e[w];if(n)var x=c?n($,D,w,e,t,u):n(D,$,w,t,e,u);if(x!==i){if(x)continue;C=!1;break}if(O){if(!Jn(e,function(k,L){if(!hr(O,L)&&(D===k||a(D,k,r,n,u)))return O.push(L)})){C=!1;break}}else if(!(D===$||a(D,$,r,n,u))){C=!1;break}}return u.delete(t),u.delete(e),C}function mf(t,e,r,n,a,u,c){switch(r){case ke:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cr:return!(t.byteLength!=e.byteLength||!u(new zr(t),new zr(e)));case nr:case ir:case sr:return Jt(+t,+e);case xr:return t.name==e.name&&t.message==e.message;case ar:case or:return t==e+"";case zt:var f=ti;case Wt:var p=n&G;if(f||(f=kr),t.size!=e.size&&!p)return!1;var m=c.get(t);if(m)return m==e;n|=pe,c.set(t,e);var y=Ga(f(t),f(e),n,a,u,c);return c.delete(t),y;case Tr:if(vr)return vr.call(t)==vr.call(e)}return!1}function yf(t,e,r,n,a,u){var c=r&G,f=Ii(t),p=f.length,m=Ii(e),y=m.length;if(p!=y&&!c)return!1;for(var w=p;w--;){var C=f[w];if(!(c?C in e:z.call(e,C)))return!1}var O=u.get(t),D=u.get(e);if(O&&D)return O==e&&D==t;var $=!0;u.set(t,e),u.set(e,t);for(var x=c;++w<p;){C=f[w];var k=t[C],L=e[C];if(n)var St=c?n(L,k,C,e,t,u):n(k,L,C,t,e,u);if(!(St===i?k===L||a(k,L,r,n,u):St)){$=!1;break}x||(x=C=="constructor")}if($&&!x){var wt=t.constructor,Tt=e.constructor;wt!=Tt&&"constructor"in t&&"constructor"in e&&!(typeof wt=="function"&&wt instanceof wt&&typeof Tt=="function"&&Tt instanceof Tt)&&($=!1)}return u.delete(t),u.delete(e),$}function oe(t){return Ri(Ya(t,i,oo),t+"")}function Ii(t){return la(t,ct,Di)}function Ai(t){return la(t,Et,Va)}var Oi=Kr?function(t){return Kr.get(t)}:Gi;function fn(t){for(var e=t.name+"",r=Ge[e],n=z.call(Ge,e)?r.length:0;n--;){var a=r[n],u=a.func;if(u==null||u==t)return a.name}return e}function Ke(t){var e=z.call(o,"placeholder")?o:t;return e.placeholder}function j(){var t=o.iteratee||zi;return t=t===zi?va:t,arguments.length?t(arguments[0],arguments[1]):t}function ln(t,e){var r=t.__data__;return Of(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ji(t){for(var e=ct(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Ka(a)]}return e}function Re(t,e){var r=Dc(t,e);return da(r)?r:i}function wf(t){var e=z.call(t,je),r=t[je];try{t[je]=i;var n=!0}catch{}var a=Fr.call(t);return n&&(e?t[je]=r:delete t[je]),a}var Di=ri?function(t){return t==null?[]:(t=W(t),ve(ri(t),function(e){return Xs.call(t,e)}))}:Vi,Va=ri?function(t){for(var e=[];t;)ge(e,Di(t)),t=Wr(t);return e}:Vi,gt=mt;(ni&&gt(new ni(new ArrayBuffer(1)))!=ke||lr&&gt(new lr)!=zt||ii&&gt(ii.resolve())!=cs||We&&gt(new We)!=Wt||pr&&gt(new pr)!=ur)&&(gt=function(t){var e=mt(t),r=e==re?t.constructor:i,n=r?He(r):"";if(n)switch(n){case eh:return ke;case rh:return zt;case nh:return cs;case ih:return Wt;case sh:return ur}return e});function bf(t,e,r){for(var n=-1,a=r.length;++n<a;){var u=r[n],c=u.size;switch(u.type){case"drop":t+=c;break;case"dropRight":e-=c;break;case"take":e=vt(e,t+c);break;case"takeRight":t=at(t,e-c);break}}return{start:t,end:e}}function Pf(t){var e=t.match(Ou);return e?e[1].split(ju):[]}function Ja(t,e,r){e=be(e,t);for(var n=-1,a=e.length,u=!1;++n<a;){var c=Yt(e[n]);if(!(u=t!=null&&r(t,c)))break;t=t[c]}return u||++n!=a?u:(a=t==null?0:t.length,!!a&&yn(a)&&ue(c,a)&&(T(t)||$e(t)))}function Ef(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&z.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Qa(t){return typeof t.constructor=="function"&&!Pr(t)?Ve(Wr(t)):{}}function Cf(t,e,r){var n=t.constructor;switch(e){case cr:return Pi(t);case nr:case ir:return new n(+t);case ke:return of(t,r);case jn:case Dn:case xn:case Sn:case Tn:case Rn:case Hn:case $n:case qn:return Sa(t,r);case zt:return new n;case sr:case or:return new n(t);case ar:return uf(t);case Wt:return new n;case Tr:return cf(t)}}function If(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Au,`{
/* [wrapped with `+e+`] */
`)}function Af(t){return T(t)||$e(t)||!!(ta&&t&&t[ta])}function ue(t,e){var r=typeof t;return e=e??V,!!e&&(r=="number"||r!="symbol"&&Mu.test(t))&&t>-1&&t%1==0&&t<e}function yt(t,e,r){if(!X(r))return!1;var n=typeof e;return(n=="number"?Pt(r)&&ue(e,r.length):n=="string"&&e in r)?Jt(r[e],t):!1}function xi(t,e){if(T(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||xt(t)?!0:Pu.test(t)||!bu.test(t)||e!=null&&t in W(e)}function Of(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Si(t){var e=fn(t),r=o[e];if(typeof r!="function"||!(e in N.prototype))return!1;if(t===r)return!0;var n=Oi(r);return!!n&&t===n[0]}function jf(t){return!!Ks&&Ks in t}var Df=Lr?ce:Ji;function Pr(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ze;return t===r}function Ka(t){return t===t&&!X(t)}function Za(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==i||t in W(r))}}function xf(t){var e=_n(t,function(n){return r.size===it&&r.clear(),n}),r=e.cache;return e}function Sf(t,e){var r=t[1],n=e[1],a=r|n,u=a<(_t|Xt|Ut),c=n==Ut&&r==Rt||n==Ut&&r==At&&t[7].length<=e[8]||n==(Ut|At)&&e[7].length<=e[8]&&r==Rt;if(!(u||c))return t;n&_t&&(t[2]=e[2],a|=r&_t?0:jr);var f=e[3];if(f){var p=t[3];t[3]=p?Ra(p,f,e[4]):f,t[4]=p?_e(t[3],lt):e[4]}return f=e[5],f&&(p=t[5],t[5]=p?Ha(p,f,e[6]):f,t[6]=p?_e(t[5],lt):e[6]),f=e[7],f&&(t[7]=f),n&Ut&&(t[8]=t[8]==null?e[8]:vt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=a,t}function Tf(t){var e=[];if(t!=null)for(var r in W(t))e.push(r);return e}function Rf(t){return Fr.call(t)}function Ya(t,e,r){return e=at(e===i?t.length-1:e,0),function(){for(var n=arguments,a=-1,u=at(n.length-e,0),c=d(u);++a<u;)c[a]=n[e+a];a=-1;for(var f=d(e+1);++a<e;)f[a]=n[a];return f[e]=r(c),Ot(t,this,f)}}function Xa(t,e){return e.length<2?t:Te(t,Lt(e,0,-1))}function Hf(t,e){for(var r=t.length,n=vt(e.length,r),a=bt(t);n--;){var u=e[n];t[n]=ue(u,r)?a[u]:i}return t}function Ti(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var to=ro(Ea),Er=Jc||function(t,e){return ht.setTimeout(t,e)},Ri=ro(rf);function eo(t,e,r){var n=e+"";return Ri(t,If(n,$f(Pf(n),r)))}function ro(t){var e=0,r=0;return function(){var n=Yc(),a=er-(n-r);if(r=n,a>0){if(++e>=On)return arguments[0]}else e=0;return t.apply(i,arguments)}}function pn(t,e){var r=-1,n=t.length,a=n-1;for(e=e===i?n:e;++r<e;){var u=vi(r,a),c=t[u];t[u]=t[r],t[r]=c}return t.length=e,t}var no=xf(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Eu,function(r,n,a,u){e.push(a?u.replace(Su,"$1"):n||r)}),e});function Yt(t){if(typeof t=="string"||xt(t))return t;var e=t+"";return e=="0"&&1/t==-K?"-0":e}function He(t){if(t!=null){try{return Br.call(t)}catch{}try{return t+""}catch{}}return""}function $f(t,e){return qt(ou,function(r){var n="_."+r[0];e&r[1]&&!qr(t,n)&&t.push(n)}),t.sort()}function io(t){if(t instanceof N)return t.clone();var e=new kt(t.__wrapped__,t.__chain__);return e.__actions__=bt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function qf(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=at(R(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var a=0,u=0,c=d(Jr(n/e));a<n;)c[u++]=Lt(t,a,a+=e);return c}function Mf(t){for(var e=-1,r=t==null?0:t.length,n=0,a=[];++e<r;){var u=t[e];u&&(a[n++]=u)}return a}function kf(){var t=arguments.length;if(!t)return[];for(var e=d(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ge(T(r)?bt(r):[r],ft(e,1))}var Nf=M(function(t,e){return et(t)?_r(t,ft(e,1,et,!0)):[]}),Lf=M(function(t,e){var r=Bt(e);return et(r)&&(r=i),et(t)?_r(t,ft(e,1,et,!0),j(r,2)):[]}),Bf=M(function(t,e){var r=Bt(e);return et(r)&&(r=i),et(t)?_r(t,ft(e,1,et,!0),i,r):[]});function Ff(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),Lt(t,e<0?0:e,n)):[]}function Uf(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Lt(t,0,e<0?0:e)):[]}function zf(t,e){return t&&t.length?sn(t,j(e,3),!0,!0):[]}function Wf(t,e){return t&&t.length?sn(t,j(e,3),!0):[]}function Gf(t,e,r,n){var a=t==null?0:t.length;return a?(r&&typeof r!="number"&&yt(t,e,r)&&(r=0,n=a),Mh(t,e,r,n)):[]}function so(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),Mr(t,j(e,3),a)}function ao(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n-1;return r!==i&&(a=R(r),a=r<0?at(n+a,0):vt(a,n-1)),Mr(t,j(e,3),a,!0)}function oo(t){var e=t==null?0:t.length;return e?ft(t,1):[]}function Vf(t){var e=t==null?0:t.length;return e?ft(t,K):[]}function Jf(t,e){var r=t==null?0:t.length;return r?(e=e===i?1:R(e),ft(t,e)):[]}function Qf(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n}function uo(t){return t&&t.length?t[0]:i}function Kf(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),Le(t,e,a)}function Zf(t){var e=t==null?0:t.length;return e?Lt(t,0,-1):[]}var Yf=M(function(t){var e=Z(t,wi);return e.length&&e[0]===t[0]?hi(e):[]}),Xf=M(function(t){var e=Bt(t),r=Z(t,wi);return e===Bt(r)?e=i:r.pop(),r.length&&r[0]===t[0]?hi(r,j(e,2)):[]}),tl=M(function(t){var e=Bt(t),r=Z(t,wi);return e=typeof e=="function"?e:i,e&&r.pop(),r.length&&r[0]===t[0]?hi(r,i,e):[]});function el(t,e){return t==null?"":Kc.call(t,e)}function Bt(t){var e=t==null?0:t.length;return e?t[e-1]:i}function rl(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n;return r!==i&&(a=R(r),a=a<0?at(n+a,0):vt(a,n-1)),e===e?Hc(t,e,a):Mr(t,Fs,a,!0)}function nl(t,e){return t&&t.length?ya(t,R(e)):i}var il=M(co);function co(t,e){return t&&t.length&&e&&e.length?di(t,e):t}function sl(t,e,r){return t&&t.length&&e&&e.length?di(t,e,j(r,2)):t}function al(t,e,r){return t&&t.length&&e&&e.length?di(t,e,i,r):t}var ol=oe(function(t,e){var r=t==null?0:t.length,n=ai(t,e);return Pa(t,Z(e,function(a){return ue(a,r)?+a:a}).sort(Ta)),n});function ul(t,e){var r=[];if(!(t&&t.length))return r;var n=-1,a=[],u=t.length;for(e=j(e,3);++n<u;){var c=t[n];e(c,n,t)&&(r.push(c),a.push(n))}return Pa(t,a),r}function Hi(t){return t==null?t:th.call(t)}function cl(t,e,r){var n=t==null?0:t.length;return n?(r&&typeof r!="number"&&yt(t,e,r)?(e=0,r=n):(e=e==null?0:R(e),r=r===i?n:R(r)),Lt(t,e,r)):[]}function hl(t,e){return nn(t,e)}function fl(t,e,r){return _i(t,e,j(r,2))}function ll(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e);if(n<r&&Jt(t[n],e))return n}return-1}function pl(t,e){return nn(t,e,!0)}function dl(t,e,r){return _i(t,e,j(r,2),!0)}function vl(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e,!0)-1;if(Jt(t[n],e))return n}return-1}function gl(t){return t&&t.length?Ca(t):[]}function _l(t,e){return t&&t.length?Ca(t,j(e,2)):[]}function ml(t){var e=t==null?0:t.length;return e?Lt(t,1,e):[]}function yl(t,e,r){return t&&t.length?(e=r||e===i?1:R(e),Lt(t,0,e<0?0:e)):[]}function wl(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Lt(t,e<0?0:e,n)):[]}function bl(t,e){return t&&t.length?sn(t,j(e,3),!1,!0):[]}function Pl(t,e){return t&&t.length?sn(t,j(e,3)):[]}var El=M(function(t){return we(ft(t,1,et,!0))}),Cl=M(function(t){var e=Bt(t);return et(e)&&(e=i),we(ft(t,1,et,!0),j(e,2))}),Il=M(function(t){var e=Bt(t);return e=typeof e=="function"?e:i,we(ft(t,1,et,!0),i,e)});function Al(t){return t&&t.length?we(t):[]}function Ol(t,e){return t&&t.length?we(t,j(e,2)):[]}function jl(t,e){return e=typeof e=="function"?e:i,t&&t.length?we(t,i,e):[]}function $i(t){if(!(t&&t.length))return[];var e=0;return t=ve(t,function(r){if(et(r))return e=at(r.length,e),!0}),Yn(e,function(r){return Z(t,Qn(r))})}function ho(t,e){if(!(t&&t.length))return[];var r=$i(t);return e==null?r:Z(r,function(n){return Ot(e,i,n)})}var Dl=M(function(t,e){return et(t)?_r(t,e):[]}),xl=M(function(t){return yi(ve(t,et))}),Sl=M(function(t){var e=Bt(t);return et(e)&&(e=i),yi(ve(t,et),j(e,2))}),Tl=M(function(t){var e=Bt(t);return e=typeof e=="function"?e:i,yi(ve(t,et),i,e)}),Rl=M($i);function Hl(t,e){return ja(t||[],e||[],gr)}function $l(t,e){return ja(t||[],e||[],wr)}var ql=M(function(t){var e=t.length,r=e>1?t[e-1]:i;return r=typeof r=="function"?(t.pop(),r):i,ho(t,r)});function fo(t){var e=o(t);return e.__chain__=!0,e}function Ml(t,e){return e(t),t}function dn(t,e){return e(t)}var kl=oe(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,a=function(u){return ai(u,t)};return e>1||this.__actions__.length||!(n instanceof N)||!ue(r)?this.thru(a):(n=n.slice(r,+r+(e?1:0)),n.__actions__.push({func:dn,args:[a],thisArg:i}),new kt(n,this.__chain__).thru(function(u){return e&&!u.length&&u.push(i),u}))});function Nl(){return fo(this)}function Ll(){return new kt(this.value(),this.__chain__)}function Bl(){this.__values__===i&&(this.__values__=Ao(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Fl(){return this}function Ul(t){for(var e,r=this;r instanceof Yr;){var n=io(r);n.__index__=0,n.__values__=i,e?a.__wrapped__=n:e=n;var a=n;r=r.__wrapped__}return a.__wrapped__=t,e}function zl(){var t=this.__wrapped__;if(t instanceof N){var e=t;return this.__actions__.length&&(e=new N(this)),e=e.reverse(),e.__actions__.push({func:dn,args:[Hi],thisArg:i}),new kt(e,this.__chain__)}return this.thru(Hi)}function Wl(){return Oa(this.__wrapped__,this.__actions__)}var Gl=an(function(t,e,r){z.call(t,r)?++t[r]:se(t,r,1)});function Vl(t,e,r){var n=T(t)?Ls:qh;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}function Jl(t,e){var r=T(t)?ve:ha;return r(t,j(e,3))}var Ql=ka(so),Kl=ka(ao);function Zl(t,e){return ft(vn(t,e),1)}function Yl(t,e){return ft(vn(t,e),K)}function Xl(t,e,r){return r=r===i?1:R(r),ft(vn(t,e),r)}function lo(t,e){var r=T(t)?qt:ye;return r(t,j(e,3))}function po(t,e){var r=T(t)?_c:ca;return r(t,j(e,3))}var tp=an(function(t,e,r){z.call(t,r)?t[r].push(e):se(t,r,[e])});function ep(t,e,r,n){t=Pt(t)?t:Ye(t),r=r&&!n?R(r):0;var a=t.length;return r<0&&(r=at(a+r,0)),wn(t)?r<=a&&t.indexOf(e,r)>-1:!!a&&Le(t,e,r)>-1}var rp=M(function(t,e,r){var n=-1,a=typeof e=="function",u=Pt(t)?d(t.length):[];return ye(t,function(c){u[++n]=a?Ot(e,c,r):mr(c,e,r)}),u}),np=an(function(t,e,r){se(t,r,e)});function vn(t,e){var r=T(t)?Z:ga;return r(t,j(e,3))}function ip(t,e,r,n){return t==null?[]:(T(e)||(e=e==null?[]:[e]),r=n?i:r,T(r)||(r=r==null?[]:[r]),wa(t,e,r))}var sp=an(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});function ap(t,e,r){var n=T(t)?Vn:zs,a=arguments.length<3;return n(t,j(e,4),r,a,ye)}function op(t,e,r){var n=T(t)?mc:zs,a=arguments.length<3;return n(t,j(e,4),r,a,ca)}function up(t,e){var r=T(t)?ve:ha;return r(t,mn(j(e,3)))}function cp(t){var e=T(t)?sa:tf;return e(t)}function hp(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=R(e);var n=T(t)?Sh:ef;return n(t,e)}function fp(t){var e=T(t)?Th:nf;return e(t)}function lp(t){if(t==null)return 0;if(Pt(t))return wn(t)?Fe(t):t.length;var e=gt(t);return e==zt||e==Wt?t.size:li(t).length}function pp(t,e,r){var n=T(t)?Jn:sf;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}var dp=M(function(t,e){if(t==null)return[];var r=e.length;return r>1&&yt(t,e[0],e[1])?e=[]:r>2&&yt(e[0],e[1],e[2])&&(e=[e[0]]),wa(t,ft(e,1),[])}),gn=Vc||function(){return ht.Date.now()};function vp(t,e){if(typeof e!="function")throw new Mt(A);return t=R(t),function(){if(--t<1)return e.apply(this,arguments)}}function vo(t,e,r){return e=r?i:e,e=t&&e==null?t.length:e,ae(t,Ut,i,i,i,i,e)}function go(t,e){var r;if(typeof e!="function")throw new Mt(A);return t=R(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var qi=M(function(t,e,r){var n=_t;if(r.length){var a=_e(r,Ke(qi));n|=It}return ae(t,n,e,r,a)}),_o=M(function(t,e,r){var n=_t|Xt;if(r.length){var a=_e(r,Ke(_o));n|=It}return ae(e,n,t,r,a)});function mo(t,e,r){e=r?i:e;var n=ae(t,Rt,i,i,i,i,i,e);return n.placeholder=mo.placeholder,n}function yo(t,e,r){e=r?i:e;var n=ae(t,te,i,i,i,i,i,e);return n.placeholder=yo.placeholder,n}function wo(t,e,r){var n,a,u,c,f,p,m=0,y=!1,w=!1,C=!0;if(typeof t!="function")throw new Mt(A);e=Ft(e)||0,X(r)&&(y=!!r.leading,w="maxWait"in r,u=w?at(Ft(r.maxWait)||0,e):u,C="trailing"in r?!!r.trailing:C);function O(rt){var Qt=n,fe=a;return n=a=i,m=rt,c=t.apply(fe,Qt),c}function D(rt){return m=rt,f=Er(k,e),y?O(rt):c}function $(rt){var Qt=rt-p,fe=rt-m,No=e-Qt;return w?vt(No,u-fe):No}function x(rt){var Qt=rt-p,fe=rt-m;return p===i||Qt>=e||Qt<0||w&&fe>=u}function k(){var rt=gn();if(x(rt))return L(rt);f=Er(k,$(rt))}function L(rt){return f=i,C&&n?O(rt):(n=a=i,c)}function St(){f!==i&&Da(f),m=0,n=p=a=f=i}function wt(){return f===i?c:L(gn())}function Tt(){var rt=gn(),Qt=x(rt);if(n=arguments,a=this,p=rt,Qt){if(f===i)return D(p);if(w)return Da(f),f=Er(k,e),O(p)}return f===i&&(f=Er(k,e)),c}return Tt.cancel=St,Tt.flush=wt,Tt}var gp=M(function(t,e){return ua(t,1,e)}),_p=M(function(t,e,r){return ua(t,Ft(e)||0,r)});function mp(t){return ae(t,tr)}function _n(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Mt(A);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=r.cache;if(u.has(a))return u.get(a);var c=t.apply(this,n);return r.cache=u.set(a,c)||u,c};return r.cache=new(_n.Cache||ie),r}_n.Cache=ie;function mn(t){if(typeof t!="function")throw new Mt(A);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function yp(t){return go(2,t)}var wp=af(function(t,e){e=e.length==1&&T(e[0])?Z(e[0],jt(j())):Z(ft(e,1),jt(j()));var r=e.length;return M(function(n){for(var a=-1,u=vt(n.length,r);++a<u;)n[a]=e[a].call(this,n[a]);return Ot(t,this,n)})}),Mi=M(function(t,e){var r=_e(e,Ke(Mi));return ae(t,It,i,e,r)}),bo=M(function(t,e){var r=_e(e,Ke(bo));return ae(t,de,i,e,r)}),bp=oe(function(t,e){return ae(t,At,i,i,i,e)});function Pp(t,e){if(typeof t!="function")throw new Mt(A);return e=e===i?e:R(e),M(t,e)}function Ep(t,e){if(typeof t!="function")throw new Mt(A);return e=e==null?0:at(R(e),0),M(function(r){var n=r[e],a=Pe(r,0,e);return n&&ge(a,n),Ot(t,this,a)})}function Cp(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new Mt(A);return X(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),wo(t,e,{leading:n,maxWait:e,trailing:a})}function Ip(t){return vo(t,1)}function Ap(t,e){return Mi(bi(e),t)}function Op(){if(!arguments.length)return[];var t=arguments[0];return T(t)?t:[t]}function jp(t){return Nt(t,ut)}function Dp(t,e){return e=typeof e=="function"?e:i,Nt(t,ut,e)}function xp(t){return Nt(t,nt|ut)}function Sp(t,e){return e=typeof e=="function"?e:i,Nt(t,nt|ut,e)}function Tp(t,e){return e==null||oa(t,e,ct(e))}function Jt(t,e){return t===e||t!==t&&e!==e}var Rp=hn(ci),Hp=hn(function(t,e){return t>=e}),$e=pa(function(){return arguments}())?pa:function(t){return tt(t)&&z.call(t,"callee")&&!Xs.call(t,"callee")},T=d.isArray,$p=Hs?jt(Hs):Fh;function Pt(t){return t!=null&&yn(t.length)&&!ce(t)}function et(t){return tt(t)&&Pt(t)}function qp(t){return t===!0||t===!1||tt(t)&&mt(t)==nr}var Ee=Qc||Ji,Mp=$s?jt($s):Uh;function kp(t){return tt(t)&&t.nodeType===1&&!Cr(t)}function Np(t){if(t==null)return!0;if(Pt(t)&&(T(t)||typeof t=="string"||typeof t.splice=="function"||Ee(t)||Ze(t)||$e(t)))return!t.length;var e=gt(t);if(e==zt||e==Wt)return!t.size;if(Pr(t))return!li(t).length;for(var r in t)if(z.call(t,r))return!1;return!0}function Lp(t,e){return yr(t,e)}function Bp(t,e,r){r=typeof r=="function"?r:i;var n=r?r(t,e):i;return n===i?yr(t,e,i,r):!!n}function ki(t){if(!tt(t))return!1;var e=mt(t);return e==xr||e==cu||typeof t.message=="string"&&typeof t.name=="string"&&!Cr(t)}function Fp(t){return typeof t=="number"&&ea(t)}function ce(t){if(!X(t))return!1;var e=mt(t);return e==Sr||e==us||e==uu||e==fu}function Po(t){return typeof t=="number"&&t==R(t)}function yn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=V}function X(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function tt(t){return t!=null&&typeof t=="object"}var Eo=qs?jt(qs):Wh;function Up(t,e){return t===e||fi(t,e,ji(e))}function zp(t,e,r){return r=typeof r=="function"?r:i,fi(t,e,ji(e),r)}function Wp(t){return Co(t)&&t!=+t}function Gp(t){if(Df(t))throw new S(b);return da(t)}function Vp(t){return t===null}function Jp(t){return t==null}function Co(t){return typeof t=="number"||tt(t)&&mt(t)==sr}function Cr(t){if(!tt(t)||mt(t)!=re)return!1;var e=Wr(t);if(e===null)return!0;var r=z.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Br.call(r)==Uc}var Ni=Ms?jt(Ms):Gh;function Qp(t){return Po(t)&&t>=-V&&t<=V}var Io=ks?jt(ks):Vh;function wn(t){return typeof t=="string"||!T(t)&&tt(t)&&mt(t)==or}function xt(t){return typeof t=="symbol"||tt(t)&&mt(t)==Tr}var Ze=Ns?jt(Ns):Jh;function Kp(t){return t===i}function Zp(t){return tt(t)&&gt(t)==ur}function Yp(t){return tt(t)&&mt(t)==pu}var Xp=hn(pi),td=hn(function(t,e){return t<=e});function Ao(t){if(!t)return[];if(Pt(t))return wn(t)?Gt(t):bt(t);if(fr&&t[fr])return Sc(t[fr]());var e=gt(t),r=e==zt?ti:e==Wt?kr:Ye;return r(t)}function he(t){if(!t)return t===0?t:0;if(t=Ft(t),t===K||t===-K){var e=t<0?-1:1;return e*U}return t===t?t:0}function R(t){var e=he(t),r=e%1;return e===e?r?e-r:e:0}function Oo(t){return t?Se(R(t),0,dt):0}function Ft(t){if(typeof t=="number")return t;if(xt(t))return ee;if(X(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=X(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ws(t);var r=Hu.test(t);return r||qu.test(t)?dc(t.slice(2),r?2:8):Ru.test(t)?ee:+t}function jo(t){return Zt(t,Et(t))}function ed(t){return t?Se(R(t),-V,V):t===0?t:0}function F(t){return t==null?"":Dt(t)}var rd=Je(function(t,e){if(Pr(e)||Pt(e)){Zt(e,ct(e),t);return}for(var r in e)z.call(e,r)&&gr(t,r,e[r])}),Do=Je(function(t,e){Zt(e,Et(e),t)}),bn=Je(function(t,e,r,n){Zt(e,Et(e),t,n)}),nd=Je(function(t,e,r,n){Zt(e,ct(e),t,n)}),id=oe(ai);function sd(t,e){var r=Ve(t);return e==null?r:aa(r,e)}var ad=M(function(t,e){t=W(t);var r=-1,n=e.length,a=n>2?e[2]:i;for(a&&yt(e[0],e[1],a)&&(n=1);++r<n;)for(var u=e[r],c=Et(u),f=-1,p=c.length;++f<p;){var m=c[f],y=t[m];(y===i||Jt(y,ze[m])&&!z.call(t,m))&&(t[m]=u[m])}return t}),od=M(function(t){return t.push(i,Wa),Ot(xo,i,t)});function ud(t,e){return Bs(t,j(e,3),Kt)}function cd(t,e){return Bs(t,j(e,3),ui)}function hd(t,e){return t==null?t:oi(t,j(e,3),Et)}function fd(t,e){return t==null?t:fa(t,j(e,3),Et)}function ld(t,e){return t&&Kt(t,j(e,3))}function pd(t,e){return t&&ui(t,j(e,3))}function dd(t){return t==null?[]:en(t,ct(t))}function vd(t){return t==null?[]:en(t,Et(t))}function Li(t,e,r){var n=t==null?i:Te(t,e);return n===i?r:n}function gd(t,e){return t!=null&&Ja(t,e,kh)}function Bi(t,e){return t!=null&&Ja(t,e,Nh)}var _d=La(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Fr.call(e)),t[e]=r},Ui(Ct)),md=La(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Fr.call(e)),z.call(t,e)?t[e].push(r):t[e]=[r]},j),yd=M(mr);function ct(t){return Pt(t)?ia(t):li(t)}function Et(t){return Pt(t)?ia(t,!0):Qh(t)}function wd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,e(n,a,u),n)}),r}function bd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,a,e(n,a,u))}),r}var Pd=Je(function(t,e,r){rn(t,e,r)}),xo=Je(function(t,e,r,n){rn(t,e,r,n)}),Ed=oe(function(t,e){var r={};if(t==null)return r;var n=!1;e=Z(e,function(u){return u=be(u,t),n||(n=u.length>1),u}),Zt(t,Ai(t),r),n&&(r=Nt(r,nt|pt|ut,_f));for(var a=e.length;a--;)mi(r,e[a]);return r});function Cd(t,e){return So(t,mn(j(e)))}var Id=oe(function(t,e){return t==null?{}:Zh(t,e)});function So(t,e){if(t==null)return{};var r=Z(Ai(t),function(n){return[n]});return e=j(e),ba(t,r,function(n,a){return e(n,a[0])})}function Ad(t,e,r){e=be(e,t);var n=-1,a=e.length;for(a||(a=1,t=i);++n<a;){var u=t==null?i:t[Yt(e[n])];u===i&&(n=a,u=r),t=ce(u)?u.call(t):u}return t}function Od(t,e,r){return t==null?t:wr(t,e,r)}function jd(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:wr(t,e,r,n)}var To=Ua(ct),Ro=Ua(Et);function Dd(t,e,r){var n=T(t),a=n||Ee(t)||Ze(t);if(e=j(e,4),r==null){var u=t&&t.constructor;a?r=n?new u:[]:X(t)?r=ce(u)?Ve(Wr(t)):{}:r={}}return(a?qt:Kt)(t,function(c,f,p){return e(r,c,f,p)}),r}function xd(t,e){return t==null?!0:mi(t,e)}function Sd(t,e,r){return t==null?t:Aa(t,e,bi(r))}function Td(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:Aa(t,e,bi(r),n)}function Ye(t){return t==null?[]:Xn(t,ct(t))}function Rd(t){return t==null?[]:Xn(t,Et(t))}function Hd(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=Ft(r),r=r===r?r:0),e!==i&&(e=Ft(e),e=e===e?e:0),Se(Ft(t),e,r)}function $d(t,e,r){return e=he(e),r===i?(r=e,e=0):r=he(r),t=Ft(t),Lh(t,e,r)}function qd(t,e,r){if(r&&typeof r!="boolean"&&yt(t,e,r)&&(e=r=i),r===i&&(typeof e=="boolean"?(r=e,e=i):typeof t=="boolean"&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=he(t),e===i?(e=t,t=0):e=he(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var a=ra();return vt(t+a*(e-t+pc("1e-"+((a+"").length-1))),e)}return vi(t,e)}var Md=Qe(function(t,e,r){return e=e.toLowerCase(),t+(r?Ho(e):e)});function Ho(t){return Fi(F(t).toLowerCase())}function $o(t){return t=F(t),t&&t.replace(ku,Ac).replace(nc,"")}function kd(t,e,r){t=F(t),e=Dt(e);var n=t.length;r=r===i?n:Se(R(r),0,n);var a=r;return r-=e.length,r>=0&&t.slice(r,a)==e}function Nd(t){return t=F(t),t&&mu.test(t)?t.replace(fs,Oc):t}function Ld(t){return t=F(t),t&&Cu.test(t)?t.replace(Mn,"\\$&"):t}var Bd=Qe(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Fd=Qe(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Ud=Ma("toLowerCase");function zd(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return cn(Qr(a),r)+t+cn(Jr(a),r)}function Wd(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;return e&&n<e?t+cn(e-n,r):t}function Gd(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;return e&&n<e?cn(e-n,r)+t:t}function Vd(t,e,r){return r||e==null?e=0:e&&(e=+e),Xc(F(t).replace(kn,""),e||0)}function Jd(t,e,r){return(r?yt(t,e,r):e===i)?e=1:e=R(e),gi(F(t),e)}function Qd(){var t=arguments,e=F(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var Kd=Qe(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});function Zd(t,e,r){return r&&typeof r!="number"&&yt(t,e,r)&&(e=r=i),r=r===i?dt:r>>>0,r?(t=F(t),t&&(typeof e=="string"||e!=null&&!Ni(e))&&(e=Dt(e),!e&&Be(t))?Pe(Gt(t),0,r):t.split(e,r)):[]}var Yd=Qe(function(t,e,r){return t+(r?" ":"")+Fi(e)});function Xd(t,e,r){return t=F(t),r=r==null?0:Se(R(r),0,t.length),e=Dt(e),t.slice(r,r+e.length)==e}function tv(t,e,r){var n=o.templateSettings;r&&yt(t,e,r)&&(e=i),t=F(t),e=bn({},e,n,za);var a=bn({},e.imports,n.imports,za),u=ct(a),c=Xn(a,u),f,p,m=0,y=e.interpolate||Rr,w="__p += '",C=ei((e.escape||Rr).source+"|"+y.source+"|"+(y===ls?Tu:Rr).source+"|"+(e.evaluate||Rr).source+"|$","g"),O="//# sourceURL="+(z.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uc+"]")+`
`;t.replace(C,function(x,k,L,St,wt,Tt){return L||(L=St),w+=t.slice(m,Tt).replace(Nu,jc),k&&(f=!0,w+=`' +
__e(`+k+`) +
'`),wt&&(p=!0,w+=`';
`+wt+`;
__p += '`),L&&(w+=`' +
((__t = (`+L+`)) == null ? '' : __t) +
'`),m=Tt+x.length,x}),w+=`';
`;var D=z.call(e,"variable")&&e.variable;if(!D)w=`with (obj) {
`+w+`
}
`;else if(xu.test(D))throw new S(q);w=(p?w.replace(du,""):w).replace(vu,"$1").replace(gu,"$1;"),w="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var $=Mo(function(){return B(u,O+"return "+w).apply(i,c)});if($.source=w,ki($))throw $;return $}function ev(t){return F(t).toLowerCase()}function rv(t){return F(t).toUpperCase()}function nv(t,e,r){if(t=F(t),t&&(r||e===i))return Ws(t);if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Gt(e),u=Gs(n,a),c=Vs(n,a)+1;return Pe(n,u,c).join("")}function iv(t,e,r){if(t=F(t),t&&(r||e===i))return t.slice(0,Qs(t)+1);if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Vs(n,Gt(e))+1;return Pe(n,0,a).join("")}function sv(t,e,r){if(t=F(t),t&&(r||e===i))return t.replace(kn,"");if(!t||!(e=Dt(e)))return t;var n=Gt(t),a=Gs(n,Gt(e));return Pe(n,a).join("")}function av(t,e){var r=An,n=Ht;if(X(e)){var a="separator"in e?e.separator:a;r="length"in e?R(e.length):r,n="omission"in e?Dt(e.omission):n}t=F(t);var u=t.length;if(Be(t)){var c=Gt(t);u=c.length}if(r>=u)return t;var f=r-Fe(n);if(f<1)return n;var p=c?Pe(c,0,f).join(""):t.slice(0,f);if(a===i)return p+n;if(c&&(f+=p.length-f),Ni(a)){if(t.slice(f).search(a)){var m,y=p;for(a.global||(a=ei(a.source,F(ps.exec(a))+"g")),a.lastIndex=0;m=a.exec(y);)var w=m.index;p=p.slice(0,w===i?f:w)}}else if(t.indexOf(Dt(a),f)!=f){var C=p.lastIndexOf(a);C>-1&&(p=p.slice(0,C))}return p+n}function ov(t){return t=F(t),t&&_u.test(t)?t.replace(hs,$c):t}var uv=Qe(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Fi=Ma("toUpperCase");function qo(t,e,r){return t=F(t),e=r?i:e,e===i?xc(t)?kc(t):bc(t):t.match(e)||[]}var Mo=M(function(t,e){try{return Ot(t,i,e)}catch(r){return ki(r)?r:new S(r)}}),cv=oe(function(t,e){return qt(e,function(r){r=Yt(r),se(t,r,qi(t[r],t))}),t});function hv(t){var e=t==null?0:t.length,r=j();return t=e?Z(t,function(n){if(typeof n[1]!="function")throw new Mt(A);return[r(n[0]),n[1]]}):[],M(function(n){for(var a=-1;++a<e;){var u=t[a];if(Ot(u[0],this,n))return Ot(u[1],this,n)}})}function fv(t){return $h(Nt(t,nt))}function Ui(t){return function(){return t}}function lv(t,e){return t==null||t!==t?e:t}var pv=Na(),dv=Na(!0);function Ct(t){return t}function zi(t){return va(typeof t=="function"?t:Nt(t,nt))}function vv(t){return _a(Nt(t,nt))}function gv(t,e){return ma(t,Nt(e,nt))}var _v=M(function(t,e){return function(r){return mr(r,t,e)}}),mv=M(function(t,e){return function(r){return mr(t,r,e)}});function Wi(t,e,r){var n=ct(e),a=en(e,n);r==null&&!(X(e)&&(a.length||!n.length))&&(r=e,e=t,t=this,a=en(e,ct(e)));var u=!(X(r)&&"chain"in r)||!!r.chain,c=ce(t);return qt(a,function(f){var p=e[f];t[f]=p,c&&(t.prototype[f]=function(){var m=this.__chain__;if(u||m){var y=t(this.__wrapped__),w=y.__actions__=bt(this.__actions__);return w.push({func:p,args:arguments,thisArg:t}),y.__chain__=m,y}return p.apply(t,ge([this.value()],arguments))})}),t}function yv(){return ht._===this&&(ht._=zc),this}function Gi(){}function wv(t){return t=R(t),M(function(e){return ya(e,t)})}var bv=Ei(Z),Pv=Ei(Ls),Ev=Ei(Jn);function ko(t){return xi(t)?Qn(Yt(t)):Yh(t)}function Cv(t){return function(e){return t==null?i:Te(t,e)}}var Iv=Ba(),Av=Ba(!0);function Vi(){return[]}function Ji(){return!1}function Ov(){return{}}function jv(){return""}function Dv(){return!0}function xv(t,e){if(t=R(t),t<1||t>V)return[];var r=dt,n=vt(t,dt);e=j(e),t-=dt;for(var a=Yn(n,e);++r<t;)e(r);return a}function Sv(t){return T(t)?Z(t,Yt):xt(t)?[t]:bt(no(F(t)))}function Tv(t){var e=++Fc;return F(t)+e}var Rv=un(function(t,e){return t+e},0),Hv=Ci("ceil"),$v=un(function(t,e){return t/e},1),qv=Ci("floor");function Mv(t){return t&&t.length?tn(t,Ct,ci):i}function kv(t,e){return t&&t.length?tn(t,j(e,2),ci):i}function Nv(t){return Us(t,Ct)}function Lv(t,e){return Us(t,j(e,2))}function Bv(t){return t&&t.length?tn(t,Ct,pi):i}function Fv(t,e){return t&&t.length?tn(t,j(e,2),pi):i}var Uv=un(function(t,e){return t*e},1),zv=Ci("round"),Wv=un(function(t,e){return t-e},0);function Gv(t){return t&&t.length?Zn(t,Ct):0}function Vv(t,e){return t&&t.length?Zn(t,j(e,2)):0}return o.after=vp,o.ary=vo,o.assign=rd,o.assignIn=Do,o.assignInWith=bn,o.assignWith=nd,o.at=id,o.before=go,o.bind=qi,o.bindAll=cv,o.bindKey=_o,o.castArray=Op,o.chain=fo,o.chunk=qf,o.compact=Mf,o.concat=kf,o.cond=hv,o.conforms=fv,o.constant=Ui,o.countBy=Gl,o.create=sd,o.curry=mo,o.curryRight=yo,o.debounce=wo,o.defaults=ad,o.defaultsDeep=od,o.defer=gp,o.delay=_p,o.difference=Nf,o.differenceBy=Lf,o.differenceWith=Bf,o.drop=Ff,o.dropRight=Uf,o.dropRightWhile=zf,o.dropWhile=Wf,o.fill=Gf,o.filter=Jl,o.flatMap=Zl,o.flatMapDeep=Yl,o.flatMapDepth=Xl,o.flatten=oo,o.flattenDeep=Vf,o.flattenDepth=Jf,o.flip=mp,o.flow=pv,o.flowRight=dv,o.fromPairs=Qf,o.functions=dd,o.functionsIn=vd,o.groupBy=tp,o.initial=Zf,o.intersection=Yf,o.intersectionBy=Xf,o.intersectionWith=tl,o.invert=_d,o.invertBy=md,o.invokeMap=rp,o.iteratee=zi,o.keyBy=np,o.keys=ct,o.keysIn=Et,o.map=vn,o.mapKeys=wd,o.mapValues=bd,o.matches=vv,o.matchesProperty=gv,o.memoize=_n,o.merge=Pd,o.mergeWith=xo,o.method=_v,o.methodOf=mv,o.mixin=Wi,o.negate=mn,o.nthArg=wv,o.omit=Ed,o.omitBy=Cd,o.once=yp,o.orderBy=ip,o.over=bv,o.overArgs=wp,o.overEvery=Pv,o.overSome=Ev,o.partial=Mi,o.partialRight=bo,o.partition=sp,o.pick=Id,o.pickBy=So,o.property=ko,o.propertyOf=Cv,o.pull=il,o.pullAll=co,o.pullAllBy=sl,o.pullAllWith=al,o.pullAt=ol,o.range=Iv,o.rangeRight=Av,o.rearg=bp,o.reject=up,o.remove=ul,o.rest=Pp,o.reverse=Hi,o.sampleSize=hp,o.set=Od,o.setWith=jd,o.shuffle=fp,o.slice=cl,o.sortBy=dp,o.sortedUniq=gl,o.sortedUniqBy=_l,o.split=Zd,o.spread=Ep,o.tail=ml,o.take=yl,o.takeRight=wl,o.takeRightWhile=bl,o.takeWhile=Pl,o.tap=Ml,o.throttle=Cp,o.thru=dn,o.toArray=Ao,o.toPairs=To,o.toPairsIn=Ro,o.toPath=Sv,o.toPlainObject=jo,o.transform=Dd,o.unary=Ip,o.union=El,o.unionBy=Cl,o.unionWith=Il,o.uniq=Al,o.uniqBy=Ol,o.uniqWith=jl,o.unset=xd,o.unzip=$i,o.unzipWith=ho,o.update=Sd,o.updateWith=Td,o.values=Ye,o.valuesIn=Rd,o.without=Dl,o.words=qo,o.wrap=Ap,o.xor=xl,o.xorBy=Sl,o.xorWith=Tl,o.zip=Rl,o.zipObject=Hl,o.zipObjectDeep=$l,o.zipWith=ql,o.entries=To,o.entriesIn=Ro,o.extend=Do,o.extendWith=bn,Wi(o,o),o.add=Rv,o.attempt=Mo,o.camelCase=Md,o.capitalize=Ho,o.ceil=Hv,o.clamp=Hd,o.clone=jp,o.cloneDeep=xp,o.cloneDeepWith=Sp,o.cloneWith=Dp,o.conformsTo=Tp,o.deburr=$o,o.defaultTo=lv,o.divide=$v,o.endsWith=kd,o.eq=Jt,o.escape=Nd,o.escapeRegExp=Ld,o.every=Vl,o.find=Ql,o.findIndex=so,o.findKey=ud,o.findLast=Kl,o.findLastIndex=ao,o.findLastKey=cd,o.floor=qv,o.forEach=lo,o.forEachRight=po,o.forIn=hd,o.forInRight=fd,o.forOwn=ld,o.forOwnRight=pd,o.get=Li,o.gt=Rp,o.gte=Hp,o.has=gd,o.hasIn=Bi,o.head=uo,o.identity=Ct,o.includes=ep,o.indexOf=Kf,o.inRange=$d,o.invoke=yd,o.isArguments=$e,o.isArray=T,o.isArrayBuffer=$p,o.isArrayLike=Pt,o.isArrayLikeObject=et,o.isBoolean=qp,o.isBuffer=Ee,o.isDate=Mp,o.isElement=kp,o.isEmpty=Np,o.isEqual=Lp,o.isEqualWith=Bp,o.isError=ki,o.isFinite=Fp,o.isFunction=ce,o.isInteger=Po,o.isLength=yn,o.isMap=Eo,o.isMatch=Up,o.isMatchWith=zp,o.isNaN=Wp,o.isNative=Gp,o.isNil=Jp,o.isNull=Vp,o.isNumber=Co,o.isObject=X,o.isObjectLike=tt,o.isPlainObject=Cr,o.isRegExp=Ni,o.isSafeInteger=Qp,o.isSet=Io,o.isString=wn,o.isSymbol=xt,o.isTypedArray=Ze,o.isUndefined=Kp,o.isWeakMap=Zp,o.isWeakSet=Yp,o.join=el,o.kebabCase=Bd,o.last=Bt,o.lastIndexOf=rl,o.lowerCase=Fd,o.lowerFirst=Ud,o.lt=Xp,o.lte=td,o.max=Mv,o.maxBy=kv,o.mean=Nv,o.meanBy=Lv,o.min=Bv,o.minBy=Fv,o.stubArray=Vi,o.stubFalse=Ji,o.stubObject=Ov,o.stubString=jv,o.stubTrue=Dv,o.multiply=Uv,o.nth=nl,o.noConflict=yv,o.noop=Gi,o.now=gn,o.pad=zd,o.padEnd=Wd,o.padStart=Gd,o.parseInt=Vd,o.random=qd,o.reduce=ap,o.reduceRight=op,o.repeat=Jd,o.replace=Qd,o.result=Ad,o.round=zv,o.runInContext=l,o.sample=cp,o.size=lp,o.snakeCase=Kd,o.some=pp,o.sortedIndex=hl,o.sortedIndexBy=fl,o.sortedIndexOf=ll,o.sortedLastIndex=pl,o.sortedLastIndexBy=dl,o.sortedLastIndexOf=vl,o.startCase=Yd,o.startsWith=Xd,o.subtract=Wv,o.sum=Gv,o.sumBy=Vv,o.template=tv,o.times=xv,o.toFinite=he,o.toInteger=R,o.toLength=Oo,o.toLower=ev,o.toNumber=Ft,o.toSafeInteger=ed,o.toString=F,o.toUpper=rv,o.trim=nv,o.trimEnd=iv,o.trimStart=sv,o.truncate=av,o.unescape=ov,o.uniqueId=Tv,o.upperCase=uv,o.upperFirst=Fi,o.each=lo,o.eachRight=po,o.first=uo,Wi(o,function(){var t={};return Kt(o,function(e,r){z.call(o.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),o.VERSION=h,qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){o[t].placeholder=o}),qt(["drop","take"],function(t,e){N.prototype[t]=function(r){r=r===i?1:at(R(r),0);var n=this.__filtered__&&!e?new N(this):this.clone();return n.__filtered__?n.__takeCount__=vt(r,n.__takeCount__):n.__views__.push({size:vt(r,dt),type:t+(n.__dir__<0?"Right":"")}),n},N.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),qt(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==g||r==H;N.prototype[t]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:j(a,3),type:r}),u.__filtered__=u.__filtered__||n,u}}),qt(["head","last"],function(t,e){var r="take"+(e?"Right":"");N.prototype[t]=function(){return this[r](1).value()[0]}}),qt(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");N.prototype[t]=function(){return this.__filtered__?new N(this):this[r](1)}}),N.prototype.compact=function(){return this.filter(Ct)},N.prototype.find=function(t){return this.filter(t).head()},N.prototype.findLast=function(t){return this.reverse().find(t)},N.prototype.invokeMap=M(function(t,e){return typeof t=="function"?new N(this):this.map(function(r){return mr(r,t,e)})}),N.prototype.reject=function(t){return this.filter(mn(j(t)))},N.prototype.slice=function(t,e){t=R(t);var r=this;return r.__filtered__&&(t>0||e<0)?new N(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(e=R(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},N.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},N.prototype.toArray=function(){return this.take(dt)},Kt(N.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),a=o[n?"take"+(e=="last"?"Right":""):e],u=n||/^find/.test(e);a&&(o.prototype[e]=function(){var c=this.__wrapped__,f=n?[1]:arguments,p=c instanceof N,m=f[0],y=p||T(c),w=function(k){var L=a.apply(o,ge([k],f));return n&&C?L[0]:L};y&&r&&typeof m=="function"&&m.length!=1&&(p=y=!1);var C=this.__chain__,O=!!this.__actions__.length,D=u&&!C,$=p&&!O;if(!u&&y){c=$?c:new N(this);var x=t.apply(c,f);return x.__actions__.push({func:dn,args:[w],thisArg:i}),new kt(x,C)}return D&&$?t.apply(this,f):(x=this.thru(w),D?n?x.value()[0]:x.value():x)})}),qt(["pop","push","shift","sort","splice","unshift"],function(t){var e=Nr[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);o.prototype[t]=function(){var a=arguments;if(n&&!this.__chain__){var u=this.value();return e.apply(T(u)?u:[],a)}return this[r](function(c){return e.apply(T(c)?c:[],a)})}}),Kt(N.prototype,function(t,e){var r=o[e];if(r){var n=r.name+"";z.call(Ge,n)||(Ge[n]=[]),Ge[n].push({name:e,func:r})}}),Ge[on(i,Xt).name]=[{name:"wrapper",func:i}],N.prototype.clone=ah,N.prototype.reverse=oh,N.prototype.value=uh,o.prototype.at=kl,o.prototype.chain=Nl,o.prototype.commit=Ll,o.prototype.next=Bl,o.prototype.plant=Ul,o.prototype.reverse=zl,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=Wl,o.prototype.first=o.prototype.head,fr&&(o.prototype[fr]=Fl),o},Ue=Nc();Oe?((Oe.exports=Ue)._=Ue,zn._=Ue):ht._=Ue}).call(Ir)})(ns,ns.exports);var vg=Object.defineProperty,gg=Object.defineProperties,_g=Object.getOwnPropertyDescriptors,Jo=Object.getOwnPropertySymbols,mg=Object.prototype.hasOwnProperty,yg=Object.prototype.propertyIsEnumerable,Qo=(P,s,i)=>s in P?vg(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,Pn=(P,s)=>{for(var i in s||(s={}))mg.call(s,i)&&Qo(P,i,s[i]);if(Jo)for(var i of Jo(s))yg.call(s,i)&&Qo(P,i,s[i]);return P},wg=(P,s)=>gg(P,_g(s));function Ce(P,s,i){var h;const v=ag(P);return((h=s.rpcMap)==null?void 0:h[v.reference])||`${dg}?chainId=${v.namespace}:${v.reference}&projectId=${i}`}function qe(P){return P.includes(":")?P.split(":")[1]:P}function iu(P){return P.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)}function bg(P,s){const i=Object.keys(s.namespaces).filter(v=>v.includes(P));if(!i.length)return[];const h=[];return i.forEach(v=>{const b=s.namespaces[v].accounts;h.push(...b)}),h}function Ki(P={},s={}){const i=Ko(P),h=Ko(s);return ns.exports.merge(i,h)}function Ko(P){var s,i,h,v;const b={};if(!sg(P))return b;for(const[A,q]of Object.entries(P)){const ot=nu(A)?[A]:q.chains,it=q.methods||[],lt=q.events||[],nt=q.rpcMap||{},pt=Ar(A);b[pt]=wg(Pn(Pn({},b[pt]),q),{chains:Qi(ot,(s=b[pt])==null?void 0:s.chains),methods:Qi(it,(i=b[pt])==null?void 0:i.methods),events:Qi(lt,(h=b[pt])==null?void 0:h.events),rpcMap:Pn(Pn({},nt),(v=b[pt])==null?void 0:v.rpcMap)})}return b}function Pg(P){return P.includes(":")?P.split(":")[2]:P}function Zo(P){const s={};for(const[i,h]of Object.entries(P)){const v=h.methods||[],b=h.events||[],A=h.accounts||[],q=nu(i)?[i]:h.chains?h.chains:iu(h.accounts);s[i]={chains:q,methods:v,events:b,accounts:A}}return s}function Zi(P){return typeof P=="number"?P:P.includes("0x")?parseInt(P,16):(P=P.includes(":")?P.split(":")[1]:P,isNaN(Number(P))?P:Number(P))}const su={},Y=P=>su[P],Yi=(P,s)=>{su[P]=s};class Eg{constructor(s){this.name="polkadot",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=qe(i);s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class Cg{constructor(s){this.name="eip155",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(s){switch(s.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(s);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(s.request.method)?await this.client.request(s):this.getHttpProvider().request(s.request)}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(parseInt(s),i),this.chainId=parseInt(s),this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}createHttpProvider(s,i){const h=i||Ce(`${this.name}:${s}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=parseInt(qe(i));s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const s=this.chainId,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}async handleSwitchChain(s){var i,h;let v=s.request.params?(i=s.request.params[0])==null?void 0:i.chainId:"0x0";v=v.startsWith("0x")?v:`0x${v}`;const b=parseInt(v,16);if(this.isChainApproved(b))this.setDefaultChain(`${b}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:s.topic,request:{method:s.request.method,params:[{chainId:v}]},chainId:(h=this.namespace.chains)==null?void 0:h[0]}),this.setDefaultChain(`${b}`);else throw new Error(`Failed to switch to chain 'eip155:${b}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(s){return this.namespace.chains.includes(`${this.name}:${s}`)}}class Ig{constructor(s){this.name="solana",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=qe(i);s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class Ag{constructor(s){this.name="cosmos",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=qe(i);s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class Og{constructor(s){this.name="cip34",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{const h=this.getCardanoRPCUrl(i),v=qe(i);s[v]=this.createHttpProvider(v,h)}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}getCardanoRPCUrl(s){const i=this.namespace.rpcMap;if(i)return i[s]}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||this.getCardanoRPCUrl(s);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class jg{constructor(s){this.name="elrond",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=qe(i);s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class Dg{constructor(s){this.name="multiversx",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;const v=qe(i);s[v]=this.createHttpProvider(v,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(h,Y("disableProviderPing")))}}class xg{constructor(s){this.name="near",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){if(this.chainId=s,!this.httpProviders[s]){const h=i||Ce(`${this.name}:${s}`,this.namespace);if(!h)throw new Error(`No RPC url provided for chainId: ${s}`);this.setHttpProvider(s,h)}this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var h;s[i]=this.createHttpProvider(i,(h=this.namespace.rpcMap)==null?void 0:h[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const h=this.createHttpProvider(s,i);h&&(this.httpProviders[s]=h)}createHttpProvider(s,i){const h=i||Ce(s,this.namespace);return typeof h>"u"?void 0:new Ie(new Ae(h,Y("disableProviderPing")))}}var Sg=Object.defineProperty,Tg=Object.defineProperties,Rg=Object.getOwnPropertyDescriptors,Yo=Object.getOwnPropertySymbols,Hg=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,Xo=(P,s,i)=>s in P?Sg(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,En=(P,s)=>{for(var i in s||(s={}))Hg.call(s,i)&&Xo(P,i,s[i]);if(Yo)for(var i of Yo(s))$g.call(s,i)&&Xo(P,i,s[i]);return P},Xi=(P,s)=>Tg(P,Rg(s));class as{constructor(s){this.events=new Xv,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=s,this.logger=typeof(s==null?void 0:s.logger)<"u"&&typeof(s==null?void 0:s.logger)!="string"?s.logger:tg(eg({level:(s==null?void 0:s.logger)||Go})),this.disableProviderPing=(s==null?void 0:s.disableProviderPing)||!1}static async init(s){const i=new as(s);return await i.initialize(),i}async request(s,i,h){const[v,b]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(v).request({request:En({},s),chainId:`${v}:${b}`,topic:this.session.topic,expiry:h})}sendAsync(s,i,h,v){const b=new Date().getTime();this.request(s,h,v).then(A=>i(null,rg(b,A))).catch(A=>i(A,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var s;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(s=this.session)==null?void 0:s.topic,reason:es("USER_DISCONNECTED")}),await this.cleanup()}async connect(s){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(s),await this.cleanupPendingPairings(),!s.skipPairing)return await this.pair(s.pairingTopic)}async authenticate(s){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(s),await this.cleanupPendingPairings();const{uri:i,response:h}=await this.client.authenticate(s);i&&(this.uri=i,this.events.emit("display_uri",i));const v=await h();if(this.session=v.session,this.session){const b=Zo(this.session.namespaces);this.namespaces=Ki(this.namespaces,b),this.persist("namespaces",this.namespaces),this.onConnect()}return v}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}removeListener(s,i){this.events.removeListener(s,i)}off(s,i){this.events.off(s,i)}get isWalletConnect(){return!0}async pair(s){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:h,approval:v}=await this.client.connect({pairingTopic:s,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});h&&(this.uri=h,this.events.emit("display_uri",h)),await v().then(b=>{this.session=b;const A=Zo(b.namespaces);this.namespaces=Ki(this.namespaces,A),this.persist("namespaces",this.namespaces)}).catch(b=>{if(b.message!==ng)throw b;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(s,i){try{if(!this.session)return;const[h,v]=this.validateChain(s);this.getProvider(h).setDefaultChain(v,i)}catch(h){if(!/Please call connect/.test(h.message))throw h}}async cleanupPendingPairings(s={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Or(i)){for(const h of i)s.deletePairings?this.client.core.expirer.set(h.topic,0):await this.client.core.relayer.subscriber.unsubscribe(h.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const s=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[s]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await ig.init({logger:this.providerOpts.logger||Go,relayUrl:this.providerOpts.relayUrl||fg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const s=[...new Set(Object.keys(this.session.namespaces).map(i=>Ar(i)))];Yi("client",this.client),Yi("events",this.events),Yi("disableProviderPing",this.disableProviderPing),s.forEach(i=>{if(!this.session)return;const h=bg(i,this.session),v=iu(h),b=Ki(this.namespaces,this.optionalNamespaces),A=Xi(En({},b[i]),{accounts:h,chains:v});switch(i){case"eip155":this.rpcProviders[i]=new Cg({namespace:A});break;case"solana":this.rpcProviders[i]=new Ig({namespace:A});break;case"cosmos":this.rpcProviders[i]=new Ag({namespace:A});break;case"polkadot":this.rpcProviders[i]=new Eg({namespace:A});break;case"cip34":this.rpcProviders[i]=new Og({namespace:A});break;case"elrond":this.rpcProviders[i]=new jg({namespace:A});break;case"multiversx":this.rpcProviders[i]=new Dg({namespace:A});break;case"near":this.rpcProviders[i]=new xg({namespace:A});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",s=>{this.events.emit("session_ping",s)}),this.client.on("session_event",s=>{const{params:i}=s,{event:h}=i;if(h.name==="accountsChanged"){const v=h.data;v&&Or(v)&&this.events.emit("accountsChanged",v.map(Pg))}else if(h.name==="chainChanged"){const v=i.chainId,b=i.event.data,A=Ar(v),q=Zi(v)!==Zi(b)?`${A}:${Zi(b)}`:v;this.onChainChanged(q)}else this.events.emit(h.name,h.data);this.events.emit("session_event",s)}),this.client.on("session_update",({topic:s,params:i})=>{var h;const{namespaces:v}=i,b=(h=this.client)==null?void 0:h.session.get(s);this.session=Xi(En({},b),{namespaces:v}),this.onSessionUpdate(),this.events.emit("session_update",{topic:s,params:i})}),this.client.on("session_delete",async s=>{await this.cleanup(),this.events.emit("session_delete",s),this.events.emit("disconnect",Xi(En({},es("USER_DISCONNECTED")),{data:s.topic}))}),this.on(le.DEFAULT_CHAIN_CHANGED,s=>{this.onChainChanged(s,!0)})}getProvider(s){if(!this.rpcProviders[s])throw new Error(`Provider not found: ${s}`);return this.rpcProviders[s]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(s=>{var i;this.getProvider(s).updateNamespace((i=this.session)==null?void 0:i.namespaces[s])})}setNamespaces(s){const{namespaces:i,optionalNamespaces:h,sessionProperties:v}=s;i&&Object.keys(i).length&&(this.namespaces=i),h&&Object.keys(h).length&&(this.optionalNamespaces=h),this.sessionProperties=v,this.persist("namespaces",i),this.persist("optionalNamespaces",h)}validateChain(s){const[i,h]=(s==null?void 0:s.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,h];if(i&&!Object.keys(this.namespaces||{}).map(A=>Ar(A)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&h)return[i,h];const v=Ar(Object.keys(this.namespaces)[0]),b=this.rpcProviders[v].getDefaultChain();return[v,b]}async requestAccounts(){const[s]=this.validateChain();return await this.getProvider(s).requestAccounts()}onChainChanged(s,i=!1){if(!this.namespaces)return;const[h,v]=this.validateChain(s);v&&(i||this.getProvider(h).setDefaultChain(v),this.namespaces[h]?this.namespaces[h].defaultChain=v:this.namespaces[`${h}:${v}`]?this.namespaces[`${h}:${v}`].defaultChain=v:this.namespaces[`${h}:${v}`]={defaultChain:v},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",v))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(s,i){this.client.core.storage.setItem(`${Vo}/${s}`,i)}async getFromStore(s){return await this.client.core.storage.getItem(`${Vo}/${s}`)}}const qg=as,Mg="wc",kg="ethereum_provider",Ng=`${Mg}@2:${kg}:`,Lg="https://rpc.walletconnect.com/v1/",is=["eth_sendTransaction","personal_sign"],Bg=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ss=["chainChanged","accountsChanged"],Fg=["chainChanged","accountsChanged","message","disconnect","connect"];var Ug=Object.defineProperty,zg=Object.defineProperties,Wg=Object.getOwnPropertyDescriptors,tu=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable,eu=(P,s,i)=>s in P?Ug(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,Xe=(P,s)=>{for(var i in s||(s={}))Gg.call(s,i)&&eu(P,i,s[i]);if(tu)for(var i of tu(s))Vg.call(s,i)&&eu(P,i,s[i]);return P},ts=(P,s)=>zg(P,Wg(s));function In(P){return Number(P[0].split(":")[1])}function Cn(P){return`0x${P.toString(16)}`}function Jg(P){const{chains:s,optionalChains:i,methods:h,optionalMethods:v,events:b,optionalEvents:A,rpcMap:q}=P;if(!Or(s))throw new Error("Invalid chains");const ot={chains:s,methods:h||is,events:b||ss,rpcMap:Xe({},s.length?{[In(s)]:q[In(s)]}:{})},it=b==null?void 0:b.filter(ut=>!ss.includes(ut)),lt=h==null?void 0:h.filter(ut=>!is.includes(ut));if(!i&&!A&&!v&&!(it!=null&&it.length)&&!(lt!=null&&lt.length))return{required:s.length?ot:void 0};const nt=(it==null?void 0:it.length)&&(lt==null?void 0:lt.length)||!i,pt={chains:[...new Set(nt?ot.chains.concat(i||[]):i)],methods:[...new Set(ot.methods.concat(v!=null&&v.length?v:Bg))],events:[...new Set(ot.events.concat(A!=null&&A.length?A:Fg))],rpcMap:q};return{required:s.length?ot:void 0,optional:i.length?pt:void 0}}class os{constructor(){this.events=new ru.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Ng,this.on=(s,i)=>(this.events.on(s,i),this),this.once=(s,i)=>(this.events.once(s,i),this),this.removeListener=(s,i)=>(this.events.removeListener(s,i),this),this.off=(s,i)=>(this.events.off(s,i),this),this.parseAccount=s=>this.isCompatibleChainId(s)?this.parseAccountId(s).address:s,this.signer={},this.rpc={}}static async init(s){const i=new os;return await i.initialize(s),i}async request(s,i){return await this.signer.request(s,this.formatChainId(this.chainId),i)}sendAsync(s,i,h){this.signer.sendAsync(s,i,this.formatChainId(this.chainId),h)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(s){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(s);const{required:i,optional:h}=Jg(this.rpc);try{const v=await new Promise(async(A,q)=>{var ot;this.rpc.showQrModal&&((ot=this.modal)==null||ot.subscribeModal(it=>{!it.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),q(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(ts(Xe({namespaces:Xe({},i&&{[this.namespace]:i})},h&&{optionalNamespaces:{[this.namespace]:h}}),{pairingTopic:s==null?void 0:s.pairingTopic})).then(it=>{A(it)}).catch(it=>{q(new Error(it.message))})});if(!v)return;const b=Fo(v.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:b),this.setAccounts(b),this.events.emit("connect",{chainId:Cn(this.chainId)})}catch(v){throw this.signer.logger.error(v),v}finally{this.modal&&this.modal.closeModal()}}async authenticate(s){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:s==null?void 0:s.chains});try{const i=await new Promise(async(v,b)=>{var A;this.rpc.showQrModal&&((A=this.modal)==null||A.subscribeModal(q=>{!q.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),b(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ts(Xe({},s),{chains:this.rpc.chains})).then(q=>{v(q)}).catch(q=>{b(new Error(q.message))})}),h=i.session;if(h){const v=Fo(h.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:v),this.setAccounts(v),this.events.emit("connect",{chainId:Cn(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",s=>{const{params:i}=s,{event:h}=i;h.name==="accountsChanged"?(this.accounts=this.parseAccounts(h.data),this.events.emit("accountsChanged",this.accounts)):h.name==="chainChanged"?this.setChainId(this.formatChainId(h.data)):this.events.emit(h.name,h.data),this.events.emit("session_event",s)}),this.signer.on("chainChanged",s=>{const i=parseInt(s);this.chainId=i,this.events.emit("chainChanged",Cn(this.chainId)),this.persist()}),this.signer.on("session_update",s=>{this.events.emit("session_update",s)}),this.signer.on("session_delete",s=>{this.reset(),this.events.emit("session_delete",s),this.events.emit("disconnect",ts(Xe({},es("USER_DISCONNECTED")),{data:s.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",s=>{var i,h;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(h=this.modal)==null||h.openModal({uri:s})),this.events.emit("display_uri",s)})}switchEthereumChain(s){this.request({method:"wallet_switchEthereumChain",params:[{chainId:s.toString(16)}]})}isCompatibleChainId(s){return typeof s=="string"?s.startsWith(`${this.namespace}:`):!1}formatChainId(s){return`${this.namespace}:${s}`}parseChainId(s){return Number(s.split(":")[1])}setChainIds(s){const i=s.filter(h=>this.isCompatibleChainId(h)).map(h=>this.parseChainId(h));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Cn(this.chainId)),this.persist())}setChainId(s){if(this.isCompatibleChainId(s)){const i=this.parseChainId(s);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(s){const[i,h,v]=s.split(":");return{chainId:`${i}:${h}`,address:v}}setAccounts(s){this.accounts=s.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(s){var i,h;const v=(i=s==null?void 0:s.chains)!=null?i:[],b=(h=s==null?void 0:s.optionalChains)!=null?h:[],A=v.concat(b);if(!A.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const q=v.length?(s==null?void 0:s.methods)||is:[],ot=v.length?(s==null?void 0:s.events)||ss:[],it=(s==null?void 0:s.optionalMethods)||[],lt=(s==null?void 0:s.optionalEvents)||[],nt=(s==null?void 0:s.rpcMap)||this.buildRpcMap(A,s.projectId),pt=(s==null?void 0:s.qrModalOptions)||void 0;return{chains:v==null?void 0:v.map(ut=>this.formatChainId(ut)),optionalChains:b.map(ut=>this.formatChainId(ut)),methods:q,events:ot,optionalMethods:it,optionalEvents:lt,rpcMap:nt,showQrModal:!!(s!=null&&s.showQrModal),qrModalOptions:pt,projectId:s.projectId,metadata:s.metadata}}buildRpcMap(s,i){const h={};return s.forEach(v=>{h[v]=this.getRpcUrl(v,i)}),h}async initialize(s){if(this.rpc=this.getRpcConfig(s),this.chainId=this.rpc.chains.length?In(this.rpc.chains):In(this.rpc.optionalChains),this.signer=await qg.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:s.disableProviderPing,relayUrl:s.relayUrl,storageOptions:s.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:h}=await og(()=>import("./index-a9a0c5a8.js").then(v=>v.i),["assets/index-a9a0c5a8.js","assets/index-f6fefe02.js","assets/index-36f85667.css"]);i=h}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(Xe({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(h){throw this.signer.logger.error(h),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(s){if(!s)return;const{chains:i,optionalChains:h,rpcMap:v}=s;i&&Or(i)&&(this.rpc.chains=i.map(b=>this.formatChainId(b)),i.forEach(b=>{this.rpc.rpcMap[b]=(v==null?void 0:v[b])||this.getRpcUrl(b)})),h&&Or(h)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=h==null?void 0:h.map(b=>this.formatChainId(b)),h.forEach(b=>{this.rpc.rpcMap[b]=(v==null?void 0:v[b])||this.getRpcUrl(b)}))}getRpcUrl(s,i){var h;return((h=this.rpc.rpcMap)==null?void 0:h[s])||`${Lg}?chainId=eip155:${s}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const s=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${s}`]?this.session.namespaces[`${this.namespace}:${s}`]:this.session.namespaces[this.namespace];this.setChainIds(s?[this.formatChainId(s)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}catch(s){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(s),await this.disconnect().catch(i=>this.signer.logger.warn(i))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(s){return typeof s=="string"||s instanceof String?[this.parseAccount(s)]:s.map(i=>this.parseAccount(i))}}const Kg=os;export{Kg as EthereumProvider,Fg as OPTIONAL_EVENTS,Bg as OPTIONAL_METHODS,ss as REQUIRED_EVENTS,is as REQUIRED_METHODS,os as default};
